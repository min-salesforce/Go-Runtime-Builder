<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ metadata.name | default("Feature Name") }} - Salesforce Setup</title>
    <link rel="stylesheet" href="../css/slds2-temp.css">
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            font-family: "SF Pro", "Salesforce Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
            background-color: #f3f2f2;
            color: #080707;
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden; /* Prevent body scroll - only .main-content should scroll */
        }

        /* Salesforce Header */
        .sf-header {
            background: #fff;
            height: 48px;
            display: flex;
            align-items: center;
            position: fixed;
            top: 0;
            left: 64px;
            right: 0;
            z-index: 1000;
            padding: 0 24px;
            width: calc(100vw - 64px);
        }

        .sf-header-left {
            display: flex;
            align-items: center;
            gap: 16px;
            flex-shrink: 0;
        }

        .sf-logo {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .sf-nav {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .sf-nav-item {
            padding: 6px 8px;
            color: #080707;
            text-decoration: none;
            border-radius: 0;
            font-size: 13px;
            font-weight: 400;
            display: flex;
            align-items: center;
            gap: 4px;
            transition: background 0.15s ease;
        }

        .sf-nav-item:hover {
            background: #f3f2f2;
        }

        .sf-nav-item.active {
            display: flex;
            height: 37px;
            padding: 8px 12px;
            align-items: center;
            gap: 12px;
            background: var(--Foundation-Blue-Blue-95, #EEF4FF);
            box-shadow: 0 3px 0 0 #1589EE inset;
            font-weight: 600;
        }

        .sf-header-center {
            display: flex;
            align-items: center;
            flex: 1;
            justify-content: center;
            gap: 12px;
            min-width: 0;
        }

        .sf-app-selector {
            display: flex;
            align-items: center;
            background: #f3f2f2;
            border-radius: 4px;
            padding: 6px 8px;
            color: #080707;
            font-size: 13px;
            font-weight: 500;
            text-decoration: none;
            gap: 4px;
            white-space: nowrap;
        }

        .sf-search {
            display: flex;
            align-items: center;
            background: #f3f2f2;
            border-radius: 4px;
            padding: 6px 12px;
            flex: 1;
            max-width: 600px;
            min-width: 200px;
        }

        .sf-search-icon {
            color: #706e6b;
            font-size: 14px;
            margin-right: 8px;
        }

        .sf-search input {
            background: none;
            border: none;
            outline: none;
            width: 100%;
            font-size: 13px;
            color: #080707;
        }

        .sf-search input::placeholder {
            color: #706e6b;
        }

        .sf-header-right {
            display: flex;
            align-items: center;
            gap: 8px;
            flex-shrink: 0;
        }

        .sf-icon-btn {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            color: #706e6b;
            font-size: 14px;
            text-decoration: none;
            transition: background 0.15s ease;
            font-weight: 600;
        }

        .sf-icon-btn:hover {
            background: #f3f2f2;
            color: #080707;
        }

        .sf-icon-btn.grid-icon {
            font-size: 12px;
            line-height: 1;
        }

        .sf-user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #1589ee;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
            font-weight: 600;
        }

        .sf-dropdown-arrow {
            font-size: 10px;
            color: #706e6b;
        }

        /* Tab Bar Below Header */
        .sf-tab-bar {
            background: #fff;
            border-bottom: 3px solid #1589EE;
            height: 40px;
            position: fixed;
            top: 48px;
            left: 64px;
            right: 0;
            z-index: 999;
            display: flex;
            align-items: center;
            padding: 0 12px;
        }

        .sf-nav {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .sf-nav-item {
            padding: 6px 12px;
            color: #080707;
            text-decoration: none;
            border-radius: 0;
            font-size: 13px;
            font-weight: 400;
            display: flex;
            align-items: center;
            gap: 4px;
            transition: background 0.15s ease;
        }

        .sf-nav-item:hover {
            background: #f3f2f2;
        }

        .sf-nav-item.active {
            display: flex;
            height: 37px;
            padding: 8px 12px;
            align-items: center;
            gap: 12px;
            background: var(--Foundation-Blue-Blue-95, #EEF4FF);
            box-shadow: 0 3px 0 0 #1589EE inset;
            font-weight: 600;
        }

        .sf-nav-title {
            color: #000;
            font-feature-settings: 'liga' off, 'clig' off;
            font-family: "SF Pro", "Salesforce Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
            font-size: 18px;
            font-style: normal;
            font-weight: 400;
            line-height: 27px; /* 150% */
            letter-spacing: 0.302px;
            margin-right: 24px;
            flex-shrink: 0;
        }

        /* Main Layout */
        .page-layout {
            position: fixed;
            top: 88px;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
        }

        /* Salesforce Side Navigation */
        .sf-sidenav {
            width: 64px;
            height: 100vh;
            background: #002775;
            padding: 16px 4px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1001;
        }

        .sf-sidenav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 4px 0;
            min-height: 64px;
            width: 64px;
            text-decoration: none;
            color: white;
            transition: background 0.15s ease;
        }

        .sf-sidenav-item:hover {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }

        .sf-sidenav-icon-wrapper {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            border-radius: 4px;
            padding: 5px;
            margin-bottom: 4px;
        }

        .sf-sidenav-icon {
            width: 24px;
            height: 24px;
            fill: white;
        }

        .sf-sidenav-label {
            font-family: "SF Pro", "Salesforce Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
            font-size: 10px;
            font-weight: 600;
            line-height: 14px;
            text-align: center;
            color: white;
            max-width: 56px;
            word-wrap: break-word;
        }

        /* Setup Page Navigation */
        .setup-page-nav {
            width: 240px;
            background: #fff;
            border-right: 1px solid #c9c7c5;
            height: calc(100vh - 88px);
            position: fixed;
            top: 88px;
            left: 64px;
            z-index: 900;
            overflow-y: auto;
        }

        .setup-search {
            padding: 16px 16px 12px;
            border-bottom: 1px solid #f3f2f2;
        }

        .setup-search-input {
            width: 100%;
            padding: 8px 12px 8px 36px;
            border: 1px solid #c9c7c5;
            border-radius: 4px;
            font-size: 13px;
            background: #fff;
            position: relative;
        }

        .setup-search-input::placeholder {
            color: #706e6b;
        }

        .setup-search-wrapper {
            position: relative;
        }

        .setup-search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            pointer-events: none;
        }

        .setup-nav-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .setup-nav-item {
            display: block;
            padding: 10px 16px;
            color: #080707;
            text-decoration: none;
            font-size: 13px;
            border-left: 3px solid transparent;
            transition: background 0.15s ease;
        }

        .setup-nav-item:hover {
            background: #f3f2f2;
        }

        .setup-nav-item.active {
            background: #e5f3ff;
            border-left-color: #1589ee;
            font-weight: 600;
            color: #1589ee;
        }

        .setup-nav-section {
            margin-top: 20px;
        }

        .setup-nav-section-title {
            padding: 8px 16px;
            font-size: 11px;
            font-weight: 600;
            color: #706e6b;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            background: #f3f2f2;
        }

        .setup-nav-section .setup-nav-item {
            padding-left: 14px;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .setup-nav-chevron {
            flex-shrink: 0;
        }

        /* Main Content */
        .main-content {
            position: fixed;
            top: 88px;
            left: 304px;
            right: 0;
            bottom: 0;
            background: #f7f6f6;
            overflow-y: auto;
            overflow-x: hidden;
            display: flex;
            gap: 0;
            padding: 0;
        }

        .content-primary {
            flex: 1;
        }

        .content-secondary {
            width: 300px;
            display: none;
        }

        /* Main Content Container - Fixed Padding to Accommodate Fixed Header */
        .main-content {
            padding-top: 240px; /* Fixed padding that accommodates full header height - prevents scroll bounce */
            /* This padding accommodates the header space but doesn't change when header resizes */
            /* Header is positioned at top: 88px, so this padding creates space for it */
            /* Full header height ~220px + some margin = 240px total padding needed */
        }

        /* Unified Header Section */
        .unified-header {
            background: #fff;
            padding: 20px 24px 24px 24px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            position: fixed; /* Fixed position - doesn't affect scroll layout */
            top: 88px; /* Below SF header and navigation */
            left: 304px; /* Match main-content positioning */
            right: 0; /* Span to right edge like main-content */
            z-index: 1000;
            /* Allow natural height changes for visual effect */
            /* No transitions to prevent scroll position feedback loops */
        }

        .unified-header.scrolled {
            padding: 24px 24px 8px 24px !important;  /* Increased top padding for better compact state appearance */
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;
            /* Allow natural height reduction - this creates the visual size change */
        }

        .unified-header.scrolled .breadcrumbs {
            display: none !important;
        }

        .unified-header.scrolled .page-header-image {
            display: none !important; /* Hide header image in compact state */
        }

        .unified-header.scrolled .page-title {
            font-size: 18px !important;
            margin-bottom: 2px !important;
        }

        .unified-header.scrolled .page-subtitle {
            display: none !important;
        }

        /* Clean border styling */
        .section-header {
            border-bottom: none !important;
        }

        .step-item {
            border-bottom: none !important;
        }

        /* Unowned State Styling */
        .unified-header.unowned {
            /* Disable sticky header behavior in unowned state */
            position: static !important;
            top: auto !important;
            left: auto !important;
            right: auto !important;
            z-index: auto !important;
            margin-bottom: 24px;
        }

        .unified-header.unowned .page-header-image {
            width: 500px !important; /* Larger image in unowned state */
            max-width: none !important;
            flex-shrink: 0 !important;
        }

        .unified-header.unowned .page-header-image img {
            width: 500px !important; /* Override the base 100% width */
            height: auto !important; /* Let height scale naturally */
            max-width: none !important;
        }

        .unified-header.unowned .page-header-image .preview-placeholder {
            width: 500px !important; /* Also update placeholder size */
            height: 200px !important; /* Larger placeholder */
        }

        .unified-header.unowned .page-title {
            color: var(--Text-Default, #181818) !important;
            font-feature-settings: 'liga' off, 'clig' off !important;
            font-family: "Segoe UI" !important;
            font-size: 42px !important;
            font-style: normal !important;
            font-weight: 400 !important;
            line-height: 42px !important;
            display: flex !important;
            align-items: center !important;
            gap: 12px !important;
        }

        .unified-header.unowned .lock-icon {
            display: inline-block !important;
        }

        .unified-header.unowned .progress-status {
            display: none !important; /* Hide progress status in unowned state */
        }

        .unified-header.unowned .unowned-links {
            display: flex !important;
            gap: 24px !important;
            margin-bottom: 16px !important;
        }

        .unified-header.unowned .unowned-links a {
            color: #0176d3 !important;
            text-decoration: none !important;
            font-size: 14px !important;
            font-weight: 500 !important;
        }

        .unified-header.unowned .unowned-links a:hover {
            text-decoration: underline !important;
        }

        .unified-header.unowned .view-setup-btn {
            display: inline-flex !important;
            align-items: center !important;
            justify-content: center !important;
            background: #0176d3 !important;
            color: white !important;
            padding: 8px 24px !important;
            border: none !important;
            border-radius: 4px !important;
            font-size: 14px !important;
            font-weight: 600 !important;
            text-decoration: none !important;
            cursor: pointer !important;
            transition: background-color 0.2s ease !important;
            width: 164px !important;
            height: 32px !important;
        }

        .unified-header.unowned .view-setup-btn:hover {
            background: #0056b3 !important;
        }

        /* Hide lock icon in owned state */
        .lock-icon {
            display: none;
        }

        /* Hide unowned-specific elements in owned state */
        .unowned-links,
        .view-setup-btn {
            display: none;
        }

        /* Adjust main-content padding for unowned state */
        body.unowned .main-content {
            padding-top: 0 !important; /* Remove fixed padding when static header */
        }

        /* Production-ready unowned state styling */
        .unified-header.unowned {
            /* Enhanced visual prominence for unowned state */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
            border-bottom: 2px solid #e8f4fd !important;
            background: linear-gradient(135deg, #ffffff 0%, #f8fbff 100%) !important;
        }

        .unified-header.unowned .page-title {
            color: #181818 !important; /* Clean, strong text color */
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.05) !important; /* Subtle depth */
        }

        .unified-header.unowned .lock-icon {
            color: #0176d3 !important; /* Salesforce blue for lock icon */
            filter: drop-shadow(0 1px 2px rgba(1, 118, 211, 0.2)) !important;
        }

        .unified-header.unowned .unowned-links {
            margin-top: 8px !important; /* Better spacing */
        }

        .unified-header.unowned .unowned-links a {
            transition: all 0.2s ease !important;
            padding: 4px 8px !important;
            border-radius: 4px !important;
        }

        .unified-header.unowned .unowned-links a:hover {
            background-color: #f3f9ff !important;
            transform: translateY(-1px) !important;
        }

        .unified-header.unowned .view-setup-btn {
            box-shadow: 0 2px 8px rgba(1, 118, 211, 0.2) !important;
            transition: all 0.2s ease !important;
            font-weight: 600 !important;
        }

        .unified-header.unowned .view-setup-btn:hover {
            transform: translateY(-1px) !important;
            box-shadow: 0 4px 12px rgba(1, 118, 211, 0.3) !important;
        }

        .unified-header.scrolled .progress-status {
            display: none !important;
        }

        .unified-header.scrolled .page-header-image {
            display: none !important; /* Completely remove from layout flow */
        }

        .unified-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 12px;
            background: var(--Aurora-02, linear-gradient(91deg, var(--slds-g-color-accent-3, #1B96FF) 42.45%, var(--slds-g-color-palette-indigo-40, #5A5AFF) 71.89%, var(--slds-g-color-palette-violet-40, #8B5CF6) 93.72%));
            z-index: 1;
        }

        /* Breadcrumbs */
        .breadcrumbs {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 16px;
            font-size: 12px;
            /* No transition - prevents flickering */
        }

        .breadcrumbs a {
            color: #1589ee;
            text-decoration: none;
        }

        .breadcrumbs a:hover {
            text-decoration: underline;
        }

        .breadcrumbs span {
            color: #706e6b;
        }

        /* Page Header */
        .page-header {
            margin-bottom: 0;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 24px;
            height: auto; /* Height hugs content */
            min-height: 0; /* Remove any minimum height constraints */
        }

        .page-header-content {
            flex: 1;
        }

        .page-header-image {
            flex-shrink: 0;
            width: 200px;
            /* No transition - should disappear instantly when header scrolls */
            transform-origin: center;
        }

        .page-header-image img {
            width: 100%;
            height: 120px;
            object-fit: cover;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .page-header-image .preview-placeholder {
            width: 100%;
            height: 120px;
            background: #f7f6f6;
            border: 2px dashed #c9c7c5;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #706e6b;
            font-size: 14px;
        }

        /* Screenshot Edit Controls */
        .screenshot-edit-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            cursor: pointer;
            color: white;
            font-size: 14px;
            font-weight: 500;
        }

        .page-header-image {
            position: relative;
        }

        .edit-mode .screenshot-edit-overlay {
            display: flex;
        }

        .screenshot-edit-overlay:hover {
            background: rgba(0, 0, 0, 0.8);
        }

        #screenshot-upload {
            display: none;
        }

        /* Sections Container */
        #sections-container {
            padding: 0 24px 24px 24px;
        }

        .feature-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: transparent;
            color: #1589ee;
            padding: 0;
            border-radius: 4px;
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .feature-badge-icon {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .feature-badge-icon svg {
            width: 24px;
            height: 24px;
        }

        .page-title {
            font-family: "SF Pro", "Salesforce Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
            font-size: 24px;
            font-weight: 600;
            color: #080707;
            margin-bottom: 8px;
            /* No transition - prevents flickering */
        }

        .page-subtitle {
            font-family: "SF Pro", "Salesforce Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
            color: #706e6b;
            font-size: 14px;
            margin-bottom: 16px;
            /* No transition - prevents flickering */
        }

        .progress-status {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 13px;
            transition: all 0.3s ease;
        }

        .progress-text {
            color: #706e6b;
        }

        .refresh-btn {
            color: #1589ee;
            text-decoration: none;
            font-weight: 500;
        }

        .suggested-badge {
            background: #9f2a9f;
            color: #fff;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
            margin-left: auto;
        }

        /* Collapsible Sections */
        .config-section {
            background: #fff;
            border: 1px solid #E5E5E5;
            border-radius: 8px;
            margin-bottom: 16px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }

        .section-header {
            display: flex;
            align-items: flex-start;
            padding: 16px 20px;
            cursor: pointer;
        }

        .section-toggle {
            margin-right: 12px;
            margin-top: 8px;
            width: 16px;
            height: 16px;
            display: inline-block;
            transition: transform 0.2s ease;
        }
        
        .section-toggle svg {
            width: 100%;
            height: 100%;
        }

        .config-section.collapsed .section-toggle {
            transform: rotate(-90deg);
        }

        .section-title {
            color: var(--Text-Default, #181818);
            font-feature-settings: 'liga' off, 'clig' off;
            font-family: "SF Pro", "Salesforce Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
            font-size: 18px;
            font-style: normal;
            font-weight: 600;
            line-height: 32px; /* 177.778% */
        }

        .turn-on-toggle {
            margin-left: auto;
            margin-top: 2px;
            background: none;
            border: none;
            cursor: pointer;
            padding: 0;
            transition: opacity 0.2s ease;
        }

        .turn-on-toggle:hover {
            opacity: 0.8;
        }

        /* Toggle animations */
        .toggle-track {
            transition: fill 0.3s ease;
        }

        .toggle-circle {
            transition: cx 0.3s ease;
        }

        .toggle-checkmark {
            transition: opacity 0.2s ease;
        }

        .toggle-label-off {
            transition: opacity 0.2s ease;
        }

        .toggle-label-on {
            transition: opacity 0.2s ease;
        }

        /* On state styles */
        .turn-on-toggle.on .toggle-track {
            fill: #0176D3;
        }

        .turn-on-toggle.on .toggle-circle {
            cx: 36;
        }

        .turn-on-toggle.on .toggle-checkmark {
            opacity: 1;
        }

        .turn-on-toggle.on .toggle-label-off {
            opacity: 0;
        }

        .turn-on-toggle.on .toggle-label-on {
            opacity: 1;
        }

        .section-content {
            padding: 0 20px 20px 40px;
        }

        .section-description {
            color: #706e6b;
            font-size: 13px;
            margin-bottom: 16px;
        }

        .section-title-area {
            display: flex;
            flex-direction: column;
            flex: 1;
        }

        .section-title-area .section-title {
            margin-bottom: 2px;
        }

        .section-title-area .section-description {
            margin: 0 0 4px 0;
        }

        .section-links {
            display: flex;
            gap: 16px;
            font-size: 12px;
        }

        .section-links a {
            color: #0B5CAB;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .section-links a svg {
            flex-shrink: 0;
        }

        /* Step Items */
        .step-item {
            display: flex;
            align-items: flex-start;
            padding: 12px 0;
        }

        .step-icon {
            width: 22px;
            height: 22px;
            margin-right: 12px;
            margin-top: 1px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            position: relative;
        }

        .step-icon svg {
            width: 22px;
            height: 22px;
        }

        /* Step icon states */
        .step-icon .step-state {
            position: absolute;
            transition: opacity 0.3s ease;
        }

        .step-icon.default .step-default { opacity: 1; }
        .step-icon.default .step-active { opacity: 0; }
        .step-icon.default .step-complete { opacity: 0; }
        .step-icon.default .step-error { opacity: 0; }

        .step-icon.active .step-default { opacity: 0; }
        .step-icon.active .step-active { opacity: 1; }
        .step-icon.active .step-complete { opacity: 0; }
        .step-icon.active .step-error { opacity: 0; }

        .step-icon.complete .step-default { opacity: 0; }
        .step-icon.complete .step-active { opacity: 0; }
        .step-icon.complete .step-complete { opacity: 1; }
        .step-icon.complete .step-error { opacity: 0; }

        .step-icon.error .step-default { opacity: 0; }
        .step-icon.error .step-active { opacity: 0; }
        .step-icon.error .step-complete { opacity: 0; }
        .step-icon.error .step-error { opacity: 1; }

        /* Add/Remove step buttons */
        .add-step-btn, .remove-step-btn {
            display: none;
            background: #0176D3;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 4px 8px;
            font-size: 11px;
            cursor: pointer;
            margin-left: 8px;
            transition: background 0.2s;
        }

        .add-step-btn:hover, .remove-step-btn:hover {
            background: #014486;
        }

        .remove-step-btn {
            background: #d83b01;
            margin-left: auto;
            margin-top: 1px;
            padding: 2px 6px;
        }

        .remove-step-btn:hover {
            background: #b32b00;
        }

        .add-step-btn.editing, .remove-step-btn.editing {
            display: inline-block;
        }

        .step-title {
            color: var(--Text-Weak, #444);
            font-feature-settings: 'liga' off, 'clig' off;
            font-family: "SF Pro", "Salesforce Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
            font-size: 16px;
            font-style: normal;
            font-weight: 600;
            line-height: 24px; /* 150% */
        }

        .step-title.editable.editing {
            border-radius: 4px;
            padding: 4px 8px;
            margin: -4px -8px;
            background: #f7f6f6;
            border: 2px solid #1589ee;
            min-height: auto;
        }

        .step-title.editable.editing input,
        .step-title.editable.editing textarea {
            border: none;
            background: transparent;
            font-size: 16px;
            color: var(--Text-Weak, #444);
            font-family: inherit;
            width: 100%;
            resize: vertical;
            outline: none;
        }

        .step-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .step-description {
            color: var(--Text-Weak, #444);
            font-feature-settings: 'liga' off, 'clig' off;
            font-family: "SF Pro", "Salesforce Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
            font-size: 14px;
            font-style: normal;
            font-weight: 400;
            line-height: 21px; /* 150% */
            margin-top: 4px;
        }

        .step-description:empty {
            display: none;
        }

        .step-description.empty {
            display: none;
        }

        .step-description.empty.editing {
            display: block;
        }

        .step-description.editable.editing {
            border-radius: 4px;
            padding: 4px 8px;
            margin: -4px -8px 0px -8px;
            background: #f7f6f6;
            border: 2px solid #1589ee;
            min-height: auto;
        }

        .step-description.editable.editing input,
        .step-description.editable.editing textarea {
            border: none;
            background: transparent;
            font-size: 14px;
            color: var(--Text-Weak, #444);
            font-family: inherit;
            width: 100%;
            resize: vertical;
            outline: none;
            min-height: 40px;
        }

        .add-description-btn, .remove-description-btn {
            display: none;
            background: #0176D3;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 2px 6px;
            font-size: 11px;
            cursor: pointer;
            margin-left: 8px;
            margin-top: 2px;
        }

        .add-description-btn:hover, .remove-description-btn:hover {
            background: #014486;
        }

        .editing .add-description-btn, .editing .remove-description-btn {
            display: inline-block;
        }

        .step-content:has(.step-description:not(.empty)) .add-description-btn,
        .step-content.has-description .add-description-btn {
            display: none !important;
        }

        .step-content:has(.step-description.empty) .remove-description-btn,
        .step-content:not(.has-description) .remove-description-btn {
            display: none !important;
        }

        .step-action {
            color: #1589ee;
            text-decoration: none;
            font-size: 12px;
            font-weight: 500;
            margin-top: 3px;
        }

        /* Toggle Switch */
        .toggle-switch {
            position: relative;
            width: 44px;
            height: 24px;
            background: #1589ee;
            border-radius: 12px;
            cursor: pointer;
            margin-top: 0px;
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            top: 2px;
            right: 2px;
            width: 20px;
            height: 20px;
            background: #fff;
            border-radius: 50%;
            transition: transform 0.2s;
        }

        /* Right Sidebar */
        .sidebar-card {
            background: #fff;
            border-radius: 4px;
            padding: 20px;
            margin-bottom: 16px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }

        .sidebar-title {
            font-size: 14px;
            font-weight: 600;
            color: #080707;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .info-icon {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #706e6b;
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
        }

        /* Progress Bars */
        .progress-item {
            margin-bottom: 16px;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 4px;
        }

        .progress-label {
            font-size: 12px;
            color: #080707;
        }

        .progress-value {
            font-size: 12px;
            color: #706e6b;
        }

        .progress-bar {
            height: 6px;
            background: #f3f2f2;
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 3px;
        }

        .progress-assigned { background: #9f2a9f; }
        .progress-active { background: #4bca81; }

        .show-all-btn {
            color: #1589ee;
            text-decoration: none;
            font-size: 12px;
            font-weight: 500;
            display: block;
            text-align: center;
            margin-top: 8px;
        }

        /* Feature Preview */
        .feature-preview {
            text-align: center;
            margin-bottom: 16px;
        }

        .preview-image {
            width: 100%;
            height: 120px;
            background: #f3f2f2;
            border-radius: 4px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #706e6b;
            font-size: 12px;
        }

        .see-how-works {
            color: #1589ee;
            text-decoration: none;
            font-size: 12px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        /* Feature Sets */
        .feature-sets {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
        }

        .feature-set-tag {
            background: #f3f2f2;
            color: #080707;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            text-decoration: none;
        }

        /* Learning Resources */
        .learning-item {
            margin-bottom: 12px;
        }

        .learning-item a {
            color: #1589ee;
            text-decoration: none;
            font-size: 12px;
        }

        .learning-section {
            margin-bottom: 20px;
        }

        .learning-section h4 {
            font-size: 12px;
            font-weight: 600;
            color: #080707;
            margin-bottom: 8px;
        }

        /* Floating Edit Controls */
        .edit-controls {
            position: fixed;
            bottom: 24px;
            right: 24px;
            z-index: 9999;
            display: flex;
            gap: 12px;
        }

        .ownership-toggle-btn,
        .edit-toggle-btn,
        .download-btn {
            border: none;
            padding: 12px 16px;
            border-radius: 50px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
        }

        .edit-toggle-btn {
            background: #f99120;
            color: #fff;
        }

        .edit-toggle-btn:hover {
            background: #e6820e;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
        }

        .edit-toggle-btn.editing {
            background: #4bca81;
        }

        .edit-toggle-btn.editing:hover {
            background: #3eb370;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(75, 202, 129, 0.4);
        }

        .download-btn {
            background: #16325c;
            color: #fff;
        }

        .download-btn:hover {
            background: #0f2a4c;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(22, 50, 92, 0.4);
        }

        .ownership-toggle-btn {
            background: #6c757d;
            color: #fff;
        }

        .ownership-toggle-btn:hover {
            background: #5a6268;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(108, 117, 125, 0.4);
        }

        .ownership-toggle-btn.unowned {
            background: #dc3545;
        }

        .ownership-toggle-btn.unowned:hover {
            background: #c82333;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(220, 53, 69, 0.4);
        }

        /* Add Section Button */
        .add-section-btn {
            display: none;
            background: #1589ee;
            color: white;
            border: 2px dashed #1589ee;
            border-radius: 6px;
            padding: 12px;
            margin: 16px 0;
            width: 100%;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }

        .add-section-btn:hover {
            background: #0e6db8;
            border-color: #0e6db8;
            transform: translateY(-1px);
        }

        .add-section-btn.editing {
            display: block;
        }

        /* Drag Handle */
        .drag-handle {
            display: none;
            position: absolute;
            right: 12px;
            top: 24px;
            background: #706e6b;
            color: white;
            border: none;
            border-radius: 4px;
            width: 24px;
            height: 24px;
            cursor: grab;
            font-size: 14px;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        }

        .drag-handle:hover {
            background: #5c5a57;
        }

        .drag-handle:active {
            cursor: grabbing;
        }

        .drag-handle.editing {
            display: flex;
        }

        /* Section positioning for drag handle */
        .config-section {
            position: relative;
        }

        /* Dragging states */
        .config-section.dragging {
            opacity: 0.5;
            transform: rotate(2deg);
        }

        .config-section.drag-over {
            border-top: 3px solid #1589ee;
        }

        /* Delete section button */
        .delete-section-btn {
            display: none;
            position: absolute;
            right: 44px;
            top: 24px;
            background: #d83b01;
            color: white;
            border: none;
            border-radius: 4px;
            width: 24px;
            height: 24px;
            cursor: pointer;
            font-size: 12px;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        }

        .delete-section-btn:hover {
            background: #b32b00;
        }

        .delete-section-btn.editing {
            display: flex;
        }

        /* Editable Field Styles */
        .editable {
            position: relative;
            transition: all 0.2s;
        }

        .editable.editing {
            background: #fffacd;
            border: 2px dashed #f99120;
            border-radius: 4px;
            padding: 4px;
            cursor: text;
        }

        .editable.editing:hover {
            border-color: #e6820e;
        }

        .editable.editing::before {
            content: '✏️';
            position: absolute;
            top: -8px;
            right: -8px;
            background: #f99120;
            color: white;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 8px;
            z-index: 10;
        }

        .editable input,
        .editable textarea {
            width: 100%;
            border: none;
            background: transparent;
            font-family: inherit;
            font-size: inherit;
            font-weight: inherit;
            color: inherit;
            padding: 0;
            margin: 0;
            outline: none;
            resize: none;
        }

        .editable textarea {
            min-height: 40px;
        }

        .edit-mode-indicator {
            position: fixed;
            top: 60px;
            right: 20px;
            background: #f99120;
            color: white;
            padding: 8px 16px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            z-index: 1001;
            display: none;
        }

        .edit-mode-indicator.show {
            display: block;
        }

        .save-indicator {
            position: fixed;
            top: 60px;
            left: 50%;
            transform: translateX(-50%);
            background: #4bca81;
            color: white;
            padding: 8px 16px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            z-index: 1001;
            display: none;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .save-indicator.show {
            display: block;
            opacity: 1;
        }
    </style>
</head>
<body>
    <!-- Salesforce Header -->
    <div class="sf-header">
        <div class="sf-header-left">
            <div class="sf-logo">
                <svg width="40" height="28" viewBox="0 0 40 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M21.7181 0.875888C24.3583 0.875888 26.6622 2.34824 27.8887 4.53432C28.9553 4.05783 30.1352 3.79265 31.3767 3.79265C36.1391 3.79265 40 7.68763 40 12.4925C40 17.2974 36.1391 21.1923 31.3767 21.1923C30.7952 21.1923 30.2272 21.1339 29.6779 21.0231C28.5978 22.9499 26.5387 24.2519 24.176 24.2519C23.187 24.2519 22.2513 24.0237 21.4181 23.6172C20.3232 26.1936 17.7712 28 14.7979 28C11.7008 28 9.06122 26.0405 8.04856 23.2921C7.60562 23.3856 7.14673 23.4349 6.67624 23.4349C2.98898 23.4349 0 20.4145 0 16.6886C0 14.1915 1.34268 12.0114 3.33843 10.8449C2.92745 9.89917 2.69936 8.85594 2.69936 7.75922C2.69936 3.47391 6.17757 0 10.4683 0C12.9874 0 15.226 1.19773 16.6455 3.05384C17.9357 1.70982 19.7316 0.875888 21.7181 0.875888Z" fill="#00A1E0"/>
                </svg>
            </div>
        </div>
        <div class="sf-header-center">
            <a href="#" class="sf-app-selector">
                All <span class="sf-dropdown-arrow">▼</span>
            </a>
            <div class="sf-search">
                <span class="sf-search-icon">🔍</span>
                <input type="text" placeholder="Search Salesforce">
            </div>
        </div>
        <div class="sf-header-right">
            <a href="#" class="sf-icon-btn grid-icon" title="App Launcher">⋮⋮</a>
            <a href="#" class="sf-icon-btn" title="Add">+</a>
            <a href="#" class="sf-icon-btn" title="Notifications">🔔</a>
            <a href="#" class="sf-icon-btn" title="Help">?</a>
            <a href="#" class="sf-icon-btn" title="Setup">⚙</a>
            <a href="#" class="sf-icon-btn" title="Notifications">📢</a>
            <div class="sf-user-avatar" title="User Menu">JD</div>
        </div>
    </div>

    <!-- Tab Bar -->
    <div class="sf-tab-bar">
        <nav class="sf-nav">
            <div class="sf-nav-title">Setup</div>
            <a href="#" class="sf-nav-item active">
                Home
                <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.6461 5.97668L8.33841 12.3459C8.15379 12.5305 7.8461 12.5305 7.66149 12.3459L1.35379 5.97668C1.16918 5.79207 1.16918 5.48438 1.35379 5.29976L2.03072 4.62284C2.21533 4.43822 2.52302 4.43822 2.70764 4.62284L7.66149 9.63822C7.8461 9.82284 8.15379 9.82284 8.33841 9.63822L13.2923 4.65361C13.4769 4.46899 13.7846 4.46899 13.9692 4.65361L14.6461 5.33053C14.7999 5.51514 14.7999 5.79207 14.6461 5.97668V5.97668Z" fill="#747474"/>
                </svg>
            </a>
            <a href="#" class="sf-nav-item">
                Tab Title
                <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.6461 5.97668L8.33841 12.3459C8.15379 12.5305 7.8461 12.5305 7.66149 12.3459L1.35379 5.97668C1.16918 5.79207 1.16918 5.48438 1.35379 5.29976L2.03072 4.62284C2.21533 4.43822 2.52302 4.43822 2.70764 4.62284L7.66149 9.63822C7.8461 9.82284 8.15379 9.82284 8.33841 9.63822L13.2923 4.65361C13.4769 4.46899 13.7846 4.46899 13.9692 4.65361L14.6461 5.33053C14.7999 5.51514 14.7999 5.79207 14.6461 5.97668V5.97668Z" fill="#747474"/>
                </svg>
            </a>
            <a href="#" class="sf-nav-item">
                Objects & Fields
                <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.6461 5.97668L8.33841 12.3459C8.15379 12.5305 7.8461 12.5305 7.66149 12.3459L1.35379 5.97668C1.16918 5.79207 1.16918 5.48438 1.35379 5.29976L2.03072 4.62284C2.21533 4.43822 2.52302 4.43822 2.70764 4.62284L7.66149 9.63822C7.8461 9.82284 8.15379 9.82284 8.33841 9.63822L13.2923 4.65361C13.4769 4.46899 13.7846 4.46899 13.9692 4.65361L14.6461 5.33053C14.7999 5.51514 14.7999 5.79207 14.6461 5.97668V5.97668Z" fill="#747474"/>
                </svg>
            </a>
        </nav>
    </div>

    <div class="page-layout">
        <!-- Salesforce Side Navigation -->
        <nav class="sf-sidenav">
            <a href="#" class="sf-sidenav-item">
                <div class="sf-sidenav-icon-wrapper">
                    <svg class="sf-sidenav-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M17.7606 13.9202C17.506 13.9202 17.2618 13.819 17.0817 13.639C16.9017 13.4589 16.8006 13.2148 16.8006 12.9602V7.20025H11.0406C10.786 7.20025 10.5418 7.0991 10.3617 6.91907C10.1817 6.73904 10.0806 6.49486 10.0806 6.24026C10.0806 5.98566 10.1817 5.74148 10.3617 5.56145C10.5418 5.38141 10.786 5.28027 11.0406 5.28027H17.7606C18.0152 5.28027 18.2594 5.38141 18.4394 5.56145C18.6194 5.74148 18.7206 5.98566 18.7206 6.24026V12.9602C18.7206 13.2148 18.6194 13.4589 18.4394 13.639C18.2594 13.819 18.0152 13.9202 17.7606 13.9202Z" fill="white"/>
                        <path d="M0.959388 16.3197C0.770105 16.3189 0.585281 16.2622 0.42815 16.1566C0.27102 16.0511 0.148595 15.9015 0.0762671 15.7265C0.00393914 15.5516 -0.0150643 15.3592 0.0216456 15.1735C0.0583556 14.9879 0.149141 14.8172 0.282588 14.6829L5.56259 9.403C5.74246 9.2242 5.98577 9.12384 6.23939 9.12384C6.49301 9.12384 6.73632 9.2242 6.91619 9.403L10.0794 12.5374L16.6026 6.04305C16.7827 5.86292 17.027 5.76172 17.2818 5.76172C17.5365 5.76172 17.7809 5.86292 17.961 6.04305C18.1411 6.22318 18.2423 6.46749 18.2423 6.72224C18.2423 6.97698 18.1411 7.2213 17.961 7.40143L10.785 14.5725C10.6051 14.7513 10.3618 14.8517 10.1082 14.8517C9.85457 14.8517 9.61125 14.7513 9.43139 14.5725L6.23939 11.4334L1.63139 16.0413C1.45258 16.2187 1.21123 16.3186 0.959388 16.3197Z" fill="white"/>
                        <path d="M23.04 23.9997H0.96C0.705392 23.9997 0.461212 23.8985 0.281177 23.7185C0.101143 23.5385 0 23.2943 0 23.0397V0.959986C0 0.705382 0.101143 0.461206 0.281177 0.281173C0.461212 0.101141 0.705392 0 0.96 0H23.04C23.2946 0 23.5388 0.101141 23.7188 0.281173C23.8989 0.461206 24 0.705382 24 0.959986V23.0397C24 23.2943 23.8989 23.5385 23.7188 23.7185C23.5388 23.8985 23.2946 23.9997 23.04 23.9997ZM1.92 22.0797H22.08V1.91997H1.92V22.0797Z" fill="white"/>
                        <path d="M6.2393 24.0002C5.98469 24.0002 5.74051 23.899 5.56047 23.719C5.38044 23.5389 5.2793 23.2948 5.2793 23.0402V19.2002C5.2793 18.9456 5.38044 18.7014 5.56047 18.5214C5.74051 18.3414 5.98469 18.2402 6.2393 18.2402C6.4939 18.2402 6.73808 18.3414 6.91812 18.5214C7.09815 18.7014 7.1993 18.9456 7.1993 19.2002V23.0402C7.1993 23.2948 7.09815 23.5389 6.91812 23.719C6.73808 23.899 6.4939 24.0002 6.2393 24.0002Z" fill="white"/>
                        <path d="M12 24.0002C11.7454 24.0002 11.5013 23.899 11.3212 23.719C11.1412 23.5389 11.04 23.2948 11.04 23.0402V19.2002C11.04 18.9456 11.1412 18.7014 11.3212 18.5214C11.5013 18.3414 11.7454 18.2402 12 18.2402C12.2546 18.2402 12.4988 18.3414 12.6789 18.5214C12.8589 18.7014 12.96 18.9456 12.96 19.2002V23.0402C12.96 23.2948 12.8589 23.5389 12.6789 23.719C12.4988 23.899 12.2546 24.0002 12 24.0002Z" fill="white"/>
                        <path d="M17.7613 24.0002C17.5067 24.0002 17.2625 23.899 17.0824 23.719C16.9024 23.5389 16.8013 23.2948 16.8013 23.0402V19.2002C16.8013 18.9456 16.9024 18.7014 17.0824 18.5214C17.2625 18.3414 17.5067 18.2402 17.7613 18.2402C18.0159 18.2402 18.2601 18.3414 18.4401 18.5214C18.6201 18.7014 18.7213 18.9456 18.7213 19.2002V23.0402C18.7213 23.2948 18.6201 23.5389 18.4401 23.719C18.2601 23.899 18.0159 24.0002 17.7613 24.0002Z" fill="white"/>
                    </svg>
                </div>
                <div class="sf-sidenav-label">Sales</div>
            </a>

            <a href="#" class="sf-sidenav-item">
                <div class="sf-sidenav-icon-wrapper">
                    <svg class="sf-sidenav-icon" width="24" height="22" viewBox="0 0 24 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M11.9464 21.191C11.7184 21.19 11.5 21.0986 11.3392 20.9369L1.68832 11.286C0.585532 10.1249 -0.0201069 8.57896 0.000509601 6.97776C0.0211261 5.37656 0.666367 3.84674 1.79868 2.71442C2.931 1.58211 4.46082 0.936865 6.06202 0.916248C7.66323 0.895632 9.20915 1.50127 10.3702 2.60406L11.9464 4.18024L13.5226 2.60406C14.6747 1.45431 16.2359 0.808594 17.8636 0.808594C19.4912 0.808594 21.0524 1.45431 22.2045 2.60406V2.60406C23.3543 3.75618 24 5.31736 24 6.94502C24 8.57268 23.3543 10.1339 22.2045 11.286L12.5536 20.9369C12.3929 21.0986 12.1745 21.19 11.9464 21.191ZM6.02928 2.53085C5.1556 2.52963 4.30121 2.7877 3.5743 3.27238C2.84739 3.75706 2.28066 4.44656 1.94588 5.25355C1.61109 6.06054 1.52331 6.94872 1.69365 7.80564C1.86399 8.66255 2.28479 9.44964 2.90275 10.0672L11.9464 19.1109L20.9901 10.0672C21.7832 9.23155 22.2185 8.11914 22.2032 6.96713C22.188 5.81512 21.7234 4.71463 20.9084 3.90024C20.0935 3.08586 18.9926 2.62199 17.8406 2.60753C16.6886 2.59306 15.5765 3.02914 14.7414 3.8228L12.5536 6.01051C12.3889 6.16618 12.1709 6.25291 11.9443 6.25291C11.7176 6.25291 11.4996 6.16618 11.3349 6.01051L9.1472 3.8228C8.73791 3.41309 8.25186 3.0881 7.71686 2.86642C7.18186 2.64473 6.6084 2.5307 6.02928 2.53085V2.53085Z" fill="white"/>
                        <path d="M4.19529 8.12488C3.96685 8.12488 3.74778 8.03414 3.58625 7.87261C3.42473 7.71109 3.33398 7.49201 3.33398 7.26358C3.33398 6.46407 3.65159 5.69731 4.21693 5.13197C4.78227 4.56663 5.54903 4.24902 6.34854 4.24902C6.57697 4.24902 6.79605 4.33977 6.95757 4.50129C7.1191 4.66282 7.20984 4.88189 7.20984 5.11033C7.20984 5.33876 7.1191 5.55783 6.95757 5.71936C6.79605 5.88088 6.57697 5.97163 6.34854 5.97163C6.00589 5.97163 5.67728 6.10774 5.43499 6.35003C5.1927 6.59232 5.05659 6.92093 5.05659 7.26358C5.05659 7.49201 4.96584 7.71109 4.80432 7.87261C4.64279 8.03414 4.42372 8.12488 4.19529 8.12488Z" fill="white"/>
                    </svg>
                </div>
                <div class="sf-sidenav-label">Service</div>
            </a>

            <a href="#" class="sf-sidenav-item">
                <div class="sf-sidenav-icon-wrapper">
                    <svg class="sf-sidenav-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20.5408 24.0002C20.2963 23.9992 20.0622 23.9012 19.8899 23.7279L14.8121 18.651C14.6388 18.4778 14.5415 18.2428 14.5415 17.9979C14.5415 17.7529 14.6388 17.518 14.8121 17.3448C14.9853 17.1716 15.2203 17.0743 15.4653 17.0743C15.7103 17.0743 15.9452 17.1716 16.1184 17.3448L20.5408 21.771L21.5425 20.7694L17.1155 16.3433C16.9423 16.1701 16.845 15.9351 16.845 15.6902C16.845 15.4452 16.9423 15.2103 17.1155 15.0371C17.2888 14.8639 17.5237 14.7666 17.7687 14.7666C18.0137 14.7666 18.2487 14.8639 18.4219 15.0371L23.4997 20.114C23.5856 20.1998 23.6537 20.3016 23.7001 20.4136C23.7466 20.5257 23.7705 20.6458 23.7705 20.7671C23.7705 20.8884 23.7466 21.0085 23.7001 21.1206C23.6537 21.2327 23.5856 21.3345 23.4997 21.4202L21.1916 23.7279C21.0193 23.9012 20.7852 23.9992 20.5408 24.0002Z" fill="white"/>
                        <path d="M10.3851 20.3077C8.37652 20.3077 6.41304 19.7122 4.74295 18.5965C3.07287 17.4808 1.7712 15.895 1.00255 14.0396C0.233892 12.1842 0.0327774 10.1426 0.424634 8.17294C0.816491 6.20329 1.78372 4.39404 3.20401 2.974C4.6243 1.55396 6.43385 0.586897 8.40385 0.195108C10.3738 -0.196681 12.4158 0.00439954 14.2715 0.772921C16.1272 1.54144 17.7133 2.84289 18.8292 4.51268C19.9451 6.18248 20.5407 8.14562 20.5407 10.1539C20.5407 12.8468 19.4708 15.4295 17.5662 17.3337C15.6617 19.2379 13.0786 20.3077 10.3851 20.3077V20.3077ZM10.3851 1.84616C8.74172 1.84616 7.13523 2.3334 5.7688 3.24626C4.40237 4.15912 3.33737 5.45661 2.70847 6.97464C2.07957 8.49268 1.91502 10.1631 2.23563 11.7746C2.55624 13.3862 3.34761 14.8664 4.50966 16.0283C5.67172 17.1902 7.15227 17.9814 8.76408 18.3019C10.3759 18.6225 12.0466 18.458 13.5649 17.8292C15.0832 17.2004 16.3809 16.1356 17.2939 14.7694C18.2069 13.4032 18.6943 11.797 18.6943 10.1539C18.6943 7.95052 17.8188 5.83743 16.2606 4.27943C14.7023 2.72143 12.5888 1.84616 10.3851 1.84616V1.84616Z" fill="white"/>
                        <path d="M10.3847 12.9232C9.47175 12.9232 8.57926 12.6525 7.82013 12.1453C7.061 11.6382 6.46933 10.9174 6.11994 10.074C5.77055 9.23066 5.67914 8.30266 5.85726 7.40736C6.03537 6.51206 6.47502 5.68968 7.12061 5.0442C7.76619 4.39873 8.58872 3.95915 9.48417 3.78107C10.3796 3.60298 11.3078 3.69438 12.1513 4.04371C12.9948 4.39304 13.7157 4.98461 14.223 5.7436C14.7302 6.5026 15.0009 7.39494 15.0009 8.30778C15.0009 8.91388 14.8815 9.51404 14.6496 10.074C14.4176 10.634 14.0775 11.1428 13.6489 11.5713C13.2202 11.9999 12.7113 12.3399 12.1513 12.5718C11.5912 12.8038 10.991 12.9232 10.3847 12.9232ZM10.3847 5.53854C9.83695 5.53854 9.30145 5.70095 8.84598 6.00524C8.3905 6.30953 8.0355 6.74202 7.82586 7.24804C7.61623 7.75405 7.56138 8.31085 7.66825 8.84803C7.77512 9.3852 8.03891 9.87864 8.42626 10.2659C8.81361 10.6532 9.30713 10.9169 9.8444 11.0238C10.3817 11.1307 10.9386 11.0758 11.4447 10.8662C11.9508 10.6566 12.3833 10.3017 12.6877 9.84628C12.992 9.39088 13.1545 8.85548 13.1545 8.30778C13.1545 7.57333 12.8627 6.86896 12.3432 6.34963C11.8238 5.8303 11.1193 5.53854 10.3847 5.53854V5.53854Z" fill="white"/>
                        <path d="M15.4626 18.0002C15.2178 18.0002 14.983 17.903 14.8098 17.7299C14.6367 17.5568 14.5394 17.322 14.5394 17.0772C14.5394 15.9755 14.1017 14.9189 13.3226 14.1399C12.5434 13.3609 11.4867 12.9233 10.3848 12.9233C9.28297 12.9233 8.22624 13.3609 7.44711 14.1399C6.66798 14.9189 6.23026 15.9755 6.23026 17.0772C6.23026 17.322 6.133 17.5568 5.95985 17.7299C5.78671 17.903 5.55188 18.0002 5.30703 18.0002C5.06217 18.0002 4.82734 17.903 4.6542 17.7299C4.48106 17.5568 4.38379 17.322 4.38379 17.0772C4.38379 15.4859 5.01604 13.9597 6.14145 12.8345C7.26687 11.7093 8.79326 11.0771 10.3848 11.0771C11.9764 11.0771 13.5028 11.7093 14.6282 12.8345C15.7536 13.9597 16.3859 15.4859 16.3859 17.0772C16.3859 17.322 16.2886 17.5568 16.1155 17.7299C15.9423 17.903 15.7075 18.0002 15.4626 18.0002Z" fill="white"/>
                        <path d="M10.3851 20.3077C8.37652 20.3077 6.41304 19.7122 4.74295 18.5965C3.07287 17.4808 1.7712 15.895 1.00255 14.0396C0.233892 12.1842 0.0327774 10.1426 0.424634 8.17294C0.816491 6.20329 1.78372 4.39404 3.20401 2.974C4.6243 1.55396 6.43385 0.586897 8.40385 0.195108C10.3738 -0.196681 12.4158 0.00439954 14.2715 0.772921C16.1272 1.54144 17.7133 2.84289 18.8292 4.51268C19.9451 6.18248 20.5407 8.14562 20.5407 10.1539C20.5407 12.8468 19.4708 15.4295 17.5662 17.3337C15.6617 19.2379 13.0786 20.3077 10.3851 20.3077V20.3077ZM10.3851 1.84616C8.74172 1.84616 7.13523 2.3334 5.7688 3.24626C4.40237 4.15912 3.33737 5.45661 2.70847 6.97464C2.07957 8.49268 1.91502 10.1631 2.23563 11.7746C2.55624 13.3862 3.34761 14.8664 4.50966 16.0283C5.67172 17.1902 7.15227 17.9814 8.76408 18.3019C10.3759 18.6225 12.0466 18.458 13.5649 17.8292C15.0832 17.2004 16.3809 16.1356 17.2939 14.7694C18.2069 13.4032 18.6943 11.797 18.6943 10.1539C18.6943 7.95052 17.8188 5.83743 16.2606 4.27943C14.7023 2.72143 12.5888 1.84616 10.3851 1.84616V1.84616Z" fill="white"/>
                    </svg>
                </div>
                <div class="sf-sidenav-label">Marketing</div>
            </a>

            <a href="#" class="sf-sidenav-item">
                <div class="sf-sidenav-icon-wrapper">
                    <svg class="sf-sidenav-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M22.1023 18.9169H6.88476C6.669 18.9213 6.45854 18.8498 6.29003 18.715C6.12151 18.5802 6.00561 18.3906 5.96249 18.1791L2.93744 3.23829H0.922272C0.67767 3.23829 0.443087 3.14112 0.270127 2.96816C0.0971677 2.7952 0 2.56062 0 2.31601C0 2.07141 0.0971677 1.83683 0.270127 1.66387C0.443087 1.49091 0.67767 1.39374 0.922272 1.39374H3.68909C3.90485 1.38939 4.11531 1.46084 4.28382 1.59565C4.45234 1.73047 4.56824 1.92011 4.61136 2.13156L7.63641 17.0724H22.1023C22.3469 17.0724 22.5814 17.1695 22.7544 17.3425C22.9274 17.5155 23.0245 17.75 23.0245 17.9946C23.0245 18.2392 22.9274 18.4738 22.7544 18.6468C22.5814 18.8197 22.3469 18.9169 22.1023 18.9169Z" fill="white"/>
                        <path d="M21.1804 14.7665H6.42404C6.17944 14.7665 5.94486 14.6694 5.7719 14.4964C5.59894 14.3234 5.50177 14.0888 5.50177 13.8442C5.50177 13.5996 5.59894 13.3651 5.7719 13.1921C5.94486 13.0191 6.17944 12.922 6.42404 12.922H20.4334L21.9136 6.00493H4.5795C4.3349 6.00493 4.10031 5.90776 3.92735 5.7348C3.75439 5.56184 3.65723 5.32726 3.65723 5.08266C3.65723 4.83806 3.75439 4.60347 3.92735 4.43051C4.10031 4.25755 4.3349 4.16039 4.5795 4.16039H23.0572C23.1965 4.15727 23.3347 4.18575 23.4614 4.24369C23.5881 4.30162 23.7 4.38751 23.7887 4.4949C23.8775 4.60229 23.9408 4.72838 23.9738 4.86373C24.0068 4.99907 24.0088 5.14014 23.9795 5.27634L22.1027 14.0379C22.0577 14.2477 21.941 14.4352 21.7726 14.5682C21.6043 14.7011 21.3949 14.7713 21.1804 14.7665Z" fill="white"/>
                        <path d="M6.9177 22.6059C6.37047 22.6059 5.83554 22.4436 5.38054 22.1396C4.92553 21.8356 4.57091 21.4035 4.36149 20.8979C4.15208 20.3923 4.09729 19.836 4.20404 19.2993C4.3108 18.7626 4.57432 18.2696 4.96126 17.8826C5.34821 17.4957 5.84121 17.2322 6.37792 17.1254C6.91463 17.0187 7.47094 17.0735 7.97651 17.2829C8.48208 17.4923 8.9142 17.8469 9.21822 18.3019C9.52224 18.7569 9.68451 19.2919 9.68451 19.8391C9.68451 20.5729 9.39301 21.2766 8.87413 21.7955C8.35525 22.3144 7.6515 22.6059 6.9177 22.6059ZM6.9177 18.9168C6.73529 18.9168 6.55698 18.9709 6.40531 19.0722C6.25364 19.1736 6.13543 19.3176 6.06563 19.4861C5.99582 19.6547 5.97756 19.8401 6.01315 20.019C6.04873 20.1979 6.13657 20.3622 6.26555 20.4912C6.39453 20.6202 6.55887 20.708 6.73777 20.7436C6.91667 20.7792 7.10211 20.761 7.27064 20.6912C7.43916 20.6213 7.5832 20.5031 7.68454 20.3515C7.78588 20.1998 7.83997 20.0215 7.83997 19.8391C7.83997 19.5945 7.7428 19.3599 7.56984 19.1869C7.39688 19.014 7.1623 18.9168 6.9177 18.9168Z" fill="white"/>
                        <path d="M18.907 22.6059C18.3597 22.6059 17.8248 22.4436 17.3698 22.1396C16.9148 21.8356 16.5602 21.4035 16.3507 20.8979C16.1413 20.3923 16.0865 19.836 16.1933 19.2993C16.3001 18.7626 16.5636 18.2696 16.9505 17.8826C17.3375 17.4957 17.8305 17.2322 18.3672 17.1254C18.9039 17.0187 19.4602 17.0735 19.9658 17.2829C20.4713 17.4923 20.9035 17.8469 21.2075 18.3019C21.5115 18.7569 21.6738 19.2919 21.6738 19.8391C21.6738 20.5729 21.3823 21.2766 20.8634 21.7955C20.3445 22.3144 19.6408 22.6059 18.907 22.6059V22.6059ZM18.907 18.9168C18.7245 18.9168 18.5462 18.9709 18.3946 19.0722C18.2429 19.1736 18.1247 19.3176 18.0549 19.4861C17.9851 19.6547 17.9668 19.8401 18.0024 20.019C18.038 20.1979 18.1258 20.3622 18.2548 20.4912C18.3838 20.6202 18.5481 20.708 18.727 20.7436C18.9059 20.7792 19.0914 20.761 19.2599 20.6912C19.4284 20.6213 19.5725 20.5031 19.6738 20.3515C19.7751 20.1998 19.8292 20.0215 19.8292 19.8391C19.8292 19.5945 19.7321 19.3599 19.5591 19.1869C19.3861 19.014 19.1516 18.9168 18.907 18.9168Z" fill="white"/>
                    </svg>
                </div>
                <div class="sf-sidenav-label">Commerce</div>
            </a>

            <a href="#" class="sf-sidenav-item">
                <div class="sf-sidenav-icon-wrapper">
                    <svg class="sf-sidenav-icon" width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M25.0002 14.7998L15.5386 20.0151C14.8924 20.3382 14.154 19.8767 14.154 19.1844V7.87678C14.154 7.41524 13.6924 7.04601 13.277 7.18447C8.6616 8.47677 5.3385 12.9537 5.89235 18.0767C6.40005 22.7382 10.1385 26.5228 14.8463 27.0305C20.9848 27.6766 26.154 22.9228 26.154 16.9229C26.154 16.369 26.1079 15.8152 26.0156 15.2613C25.9233 14.7998 25.4156 14.569 25.0002 14.7998V14.7998ZM16.7845 16.9227L25.8769 12.0766C26.4307 11.7997 26.6153 11.0612 26.2461 10.5535C24.1692 7.69201 20.9384 5.6151 17.246 5.01511C16.5999 4.87665 15.9999 5.38434 15.9999 6.03048V16.4612C15.9999 16.8766 16.4153 17.1073 16.7845 16.9227V16.9227Z" fill="white"/>
                    </svg>
                </div>
                <div class="sf-sidenav-label">Analytics</div>
            </a>

            <a href="#" class="sf-sidenav-item">
                <div class="sf-sidenav-icon-wrapper">
                    <svg class="sf-sidenav-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21.8536 18.2399C22.0059 18.2399 22.1536 18.1245 22.1536 17.9768L23.0582 14.7322C23.1321 14.506 22.9429 14.3168 22.7582 14.3168H15.0275L14.9121 13.8276C14.8382 13.6014 14.649 13.4491 14.4229 13.4491H13.5921C13.329 13.4491 13.0659 13.6753 13.0659 13.9384C13.029 14.2384 13.2921 14.4645 13.5552 14.4645H14.0444L14.4967 15.9737L15.6275 19.8599C15.7013 20.086 15.8905 20.2384 16.1167 20.2384H22.0013C22.2644 20.2384 22.5275 20.0122 22.5275 19.7491C22.5644 19.4491 22.3013 19.223 22.0382 19.223H16.8321C16.6059 19.223 16.4167 19.0707 16.3429 18.8814V18.8445C16.269 18.5445 16.4952 18.2399 16.8321 18.2399H21.8536Z" fill="white"/>
                        <path d="M16.9521 22.9568C17.4109 22.9568 17.7829 22.5849 17.7829 22.126C17.7829 21.6672 17.4109 21.2953 16.9521 21.2953C16.4933 21.2953 16.1213 21.6672 16.1213 22.126C16.1213 22.5849 16.4933 22.9568 16.9521 22.9568Z" fill="white"/>
                        <path d="M21.0229 22.9568C21.4817 22.9568 21.8536 22.5849 21.8536 22.126C21.8536 21.6672 21.4817 21.2953 21.0229 21.2953C20.564 21.2953 20.1921 21.6672 20.1921 22.126C20.1921 22.5849 20.564 22.9568 21.0229 22.9568Z" fill="white"/>
                        <path d="M16.5736 1.04297H1.86439C1.03362 1.04297 0.922852 1.91066 0.922852 1.98451V20.6537C0.959775 21.143 1.26439 21.8999 2.58439 21.8999H13.2552C14.4598 21.8999 14.3859 21.106 14.3121 20.806L14.2752 20.6907L14.1598 20.2753L14.0859 20.0491L12.9182 16.163C12.8444 15.8999 12.5398 15.7845 12.5398 15.7845C12.3505 15.6691 12.1613 15.5584 12.0505 15.406C11.6721 14.9907 11.4829 14.4276 11.5244 13.8968C11.5982 12.8399 12.5029 12.0091 13.5598 12.0091H14.3905C14.9582 12.0091 15.4475 12.2353 15.8213 12.6137L15.8582 12.6507C15.9321 12.7245 16.0844 12.8399 16.3105 12.8399H16.8367C17.3259 12.8399 17.3629 12.3137 17.4044 12.1614L17.4413 8.20143V2.21528C17.4782 1.31066 16.8367 1.04758 16.5736 1.04758V1.04297ZM5.75054 18.8445C5.75054 19.3337 5.37208 19.7122 4.88285 19.7122H4.01516C3.52593 19.7122 3.14747 19.3337 3.14747 18.8445V17.9768C3.14747 17.4876 3.52593 17.1091 4.01516 17.1091H4.88285C5.37208 17.1091 5.75054 17.4876 5.75054 17.9768V18.8445ZM5.75054 14.3584C5.75054 14.8476 5.37208 15.226 4.88285 15.226H4.01516C3.52593 15.226 3.14747 14.8476 3.14747 14.3584V13.4907C3.14747 13.0014 3.52593 12.623 4.01516 12.623H4.88285C5.37208 12.623 5.75054 13.0014 5.75054 13.4907V14.3584ZM5.75054 9.94605C5.75054 10.4353 5.37208 10.8137 4.88285 10.8137H4.01516C3.52593 10.8137 3.14747 10.4353 3.14747 9.94605V9.07835C3.14747 8.58912 3.52593 8.21066 4.01516 8.21066H4.88285C5.37208 8.21066 5.75054 8.58912 5.75054 9.07835V9.94605ZM5.75054 5.49681C5.75054 5.98605 5.37208 6.36451 4.88285 6.36451H4.01516C3.52593 6.36451 3.14747 5.98605 3.14747 5.49681V4.62912C3.14747 4.13989 3.52593 3.76143 4.01516 3.76143H4.88285C5.37208 3.76143 5.75054 4.13989 5.75054 4.62912V5.49681ZM10.5413 18.8445C10.5413 19.3337 10.1629 19.7122 9.67362 19.7122H8.80593C8.3167 19.7122 7.93824 19.3337 7.93824 18.8445V17.9768C7.93824 17.4876 8.3167 17.1091 8.80593 17.1091H9.67362C10.1629 17.1091 10.5413 17.4876 10.5413 17.9768V18.8445ZM10.5413 14.3584C10.5413 14.8476 10.1629 15.226 9.67362 15.226H8.80593C8.3167 15.226 7.93824 14.8476 7.93824 14.3584V13.4907C7.93824 13.0014 8.3167 12.623 8.80593 12.623H9.67362C10.1629 12.623 10.5413 13.0014 10.5413 13.4907V14.3584ZM10.5413 9.94605C10.5413 10.4353 10.1629 10.8137 9.67362 10.8137H8.80593C8.3167 10.8137 7.93824 10.4353 7.93824 9.94605V9.07835C7.93824 8.58912 8.3167 8.21066 8.80593 8.21066H9.67362C10.1629 8.21066 10.5413 8.58912 10.5413 9.07835V9.94605ZM10.5413 5.49681C10.5413 5.98605 10.1629 6.36451 9.67362 6.36451H8.80593C8.3167 6.36451 7.93824 5.98605 7.93824 5.49681V4.62912C7.93824 4.13989 8.3167 3.76143 8.80593 3.76143H9.67362C10.1629 3.76143 10.5413 4.13989 10.5413 4.62912V5.49681ZM15.3321 9.94605C15.3321 10.4353 14.9536 10.8137 14.4644 10.8137H13.5967C13.1075 10.8137 12.729 10.4353 12.729 9.94605V9.07835C12.729 8.58912 13.1075 8.21066 13.5967 8.21066H14.4644C14.9536 8.21066 15.3321 8.58912 15.3321 9.07835V9.94605ZM15.3321 5.49681C15.3321 5.98605 14.9536 6.36451 14.4644 6.36451H13.5967C13.1075 6.36451 12.729 5.98605 12.729 5.49681V4.62912C12.729 4.13989 13.1075 3.76143 13.5967 3.76143H14.4644C14.9536 3.76143 15.3321 4.13989 15.3321 4.62912V5.49681Z" fill="white"/>
                    </svg>
                </div>
                <div class="sf-sidenav-label">Your Account</div>
            </a>

            <a href="#" class="sf-sidenav-item">
                <div class="sf-sidenav-icon-wrapper">
                    <svg class="sf-sidenav-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M9.6924 1.8457H3.23082C2.4462 1.8457 1.84619 2.4457 1.84619 3.23032V21.6918C1.84619 21.9226 2.07696 22.1534 2.30773 22.1534H4.1539C4.43082 22.1534 4.61544 21.9688 4.61544 21.6918V18.9226C4.61544 18.6457 4.80006 18.4611 5.07698 18.4611H7.84623C8.12316 18.4611 8.30777 18.6457 8.30777 18.9226V21.6918C8.30777 21.9688 8.49239 22.1534 8.76932 22.1534H10.1539C10.6616 22.1534 11.077 21.738 11.077 21.2303V3.23032C11.077 2.4457 10.477 1.8457 9.6924 1.8457ZM5.53835 16.3842C5.53835 16.5226 5.44604 16.6149 5.30758 16.6149H3.92295C3.78449 16.6149 3.69218 16.5226 3.69218 16.3842V14.0765C3.69218 13.938 3.78449 13.8457 3.92295 13.8457H5.30758C5.44604 13.8457 5.53835 13.938 5.53835 14.0765V16.3842ZM5.53835 11.7687C5.53835 11.9072 5.44604 11.9995 5.30758 11.9995H3.92295C3.78449 11.9995 3.69218 11.9072 3.69218 11.7687V9.46105C3.69218 9.32258 3.78449 9.23028 3.92295 9.23028H5.30758C5.44604 9.23028 5.53835 9.32258 5.53835 9.46105V11.7687ZM5.53835 7.15339C5.53835 7.29185 5.44604 7.38416 5.30758 7.38416H3.92295C3.78449 7.38416 3.69218 7.29185 3.69218 7.15339V4.8457C3.69218 4.70724 3.78449 4.61493 3.92295 4.61493H5.30758C5.44604 4.61493 5.53835 4.70724 5.53835 4.8457V7.15339ZM9.23093 16.3842C9.23093 16.5226 9.13862 16.6149 9.00015 16.6149H7.61553C7.47707 16.6149 7.38476 16.5226 7.38476 16.3842V14.0765C7.38476 13.938 7.47707 13.8457 7.61553 13.8457H9.00015C9.13862 13.8457 9.23093 13.938 9.23093 14.0765V16.3842ZM9.23093 11.7687C9.23093 11.9072 9.13862 11.9995 9.00015 11.9995H7.61553C7.47707 11.9995 7.38476 11.9072 7.38476 11.7687V9.46105C7.38476 9.32258 7.47707 9.23028 7.61553 9.23028H9.00015C9.13862 9.23028 9.23093 9.32258 9.23093 9.46105V11.7687ZM9.23093 7.15339C9.23093 7.29185 9.13862 7.38416 9.00015 7.38416H7.61553C7.47707 7.38416 7.38476 7.29185 7.38476 7.15339V4.8457C7.38476 4.70724 7.47707 4.61493 7.61553 4.61493H9.00015C9.13862 4.61493 9.23093 4.70724 9.23093 4.8457V7.15339ZM20.7692 6.46109H14.3077C13.523 6.46109 12.923 7.06109 12.923 7.8457V21.6918C12.923 21.9226 13.1538 22.1534 13.3846 22.1534H15.2307C15.5077 22.1534 15.6923 21.9688 15.6923 21.6918V18.9226C15.6923 18.6457 15.8769 18.4611 16.1538 18.4611H18.9231C19.2 18.4611 19.3846 18.6457 19.3846 18.9226V21.6918C19.3846 21.9688 19.5692 22.1534 19.8462 22.1534H21.2308C21.7385 22.1534 22.1539 21.738 22.1539 21.2303V7.8457C22.1539 7.06109 21.5539 6.46109 20.7692 6.46109ZM16.6158 16.3842C16.6158 16.5226 16.5235 16.6149 16.385 16.6149H15.0004C14.8619 16.6149 14.7696 16.5226 14.7696 16.3842V14.0765C14.7696 13.938 14.8619 13.8457 15.0004 13.8457H16.385C16.5235 13.8457 16.6158 13.938 16.6158 14.0765V16.3842ZM16.6158 11.7687C16.6158 11.9072 16.5235 11.9995 16.385 11.9995H15.0004C14.8619 11.9995 14.7696 11.9072 14.7696 11.7687V9.46105C14.7696 9.32258 14.8619 9.23028 15.0004 9.23028H16.385C16.5235 9.23028 16.6158 9.32258 16.6158 9.46105V11.7687ZM20.3078 16.3842C20.3078 16.5226 20.2155 16.6149 20.077 16.6149H18.6924C18.5539 16.6149 18.4616 16.5226 18.4616 16.3842V14.0765C18.4616 13.938 18.5539 13.8457 18.6924 13.8457H20.077C20.2155 13.8457 20.3078 13.938 20.3078 14.0765V16.3842ZM20.3078 11.7687C20.3078 11.9072 20.2155 11.9995 20.077 11.9995H18.6924C18.5539 11.9995 18.4616 11.9072 18.4616 11.7687V9.46105C18.4616 9.32258 18.5539 9.23028 18.6924 9.23028H20.077C20.2155 9.23028 20.3078 9.32258 20.3078 9.46105V11.7687Z" fill="white"/>
                    </svg>
                </div>
                <div class="sf-sidenav-label">Accounts</div>
            </a>

            <a href="#" class="sf-sidenav-item">
                <div class="sf-sidenav-icon-wrapper">
                    <svg class="sf-sidenav-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M7.33849 12.9218C6.69233 11.9525 6.36925 10.8447 6.36925 9.59841C6.36925 7.47511 7.24618 5.72108 8.6308 4.65943C8.16926 3.82858 7.24618 3.22852 6.04618 3.22852C4.0154 3.22852 2.86155 4.89023 2.86155 6.78273C2.86155 7.79822 3.18463 8.67524 3.87694 9.2753C4.24617 9.64457 4.56925 10.1062 4.56925 10.5677C4.56925 11.0293 4.38463 11.4909 3.23078 11.9987C1.56924 12.7372 0.046154 13.7527 0 15.2759C0.046154 16.2914 0.69231 17.0761 1.66154 17.0761H3.18463C3.4154 17.0761 3.64617 16.9376 3.78463 16.7068C4.52309 15.3682 5.90771 14.5374 7.06156 13.9373C7.47695 13.7527 7.56926 13.2449 7.33849 12.9218V12.9218ZM20.8154 11.9987C19.6615 11.4909 19.4769 11.0755 19.4769 10.5677C19.4769 10.06 19.8 9.59841 20.1692 9.2753C20.8615 8.62908 21.1846 7.79822 21.1846 6.78273C21.1846 4.89023 20.0769 3.22852 18 3.22852C16.8 3.22852 15.8769 3.82858 15.3692 4.65943C16.7538 5.72108 17.6308 7.47511 17.6308 9.59841C17.6308 10.8447 17.3077 11.9525 16.6615 12.9218C16.4308 13.2911 16.5692 13.7527 16.9385 13.9373C18.0923 14.4912 19.4769 15.3682 20.2154 16.7068C20.3539 16.9376 20.5846 17.0761 20.8154 17.0761H22.3385C23.3077 17.0761 23.9539 16.2914 23.9539 15.2759C24 13.7527 22.4769 12.7372 20.8154 11.9987V11.9987ZM15.0925 15.3684C13.8463 14.8145 13.6156 14.3067 13.6156 13.799C13.6156 13.2451 13.9848 12.7373 14.4002 12.3681C15.1387 11.6757 15.554 10.7064 15.554 9.59855C15.554 7.52141 14.3079 5.72122 12.0463 5.72122C9.78479 5.72122 8.53863 7.52141 8.53863 9.59855C8.53863 10.7064 8.95402 11.6757 9.69248 12.3681C10.1079 12.7835 10.4771 13.2912 10.4771 13.799C10.4771 14.3529 10.2925 14.8145 9.00017 15.3684C7.15401 16.1531 5.40016 17.0301 5.354 18.6918C5.354 19.7996 6.18478 20.7228 7.24632 20.7228H16.8464C17.9079 20.7228 18.7387 19.7996 18.7387 18.6918C18.6925 17.0763 16.9387 16.1992 15.0925 15.3684Z" fill="white"/>
                    </svg>
                </div>
                <div class="sf-sidenav-label">Contacts</div>
            </a>

            <a href="#" class="sf-sidenav-item">
                <div class="sf-sidenav-icon-wrapper">
                    <svg class="sf-sidenav-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M3.69208 9.23047C5.21516 9.23047 6.46131 10.4766 6.46131 11.9997C6.46131 13.5228 5.21516 14.7689 3.69208 14.7689C2.16901 14.7689 0.922852 13.5228 0.922852 11.9997C0.922852 10.4766 2.16901 9.23047 3.69208 9.23047ZM11.9998 9.23047C13.5229 9.23047 14.769 10.4766 14.769 11.9997C14.769 13.5228 13.5229 14.7689 11.9998 14.7689C10.4767 14.7689 9.23054 13.5228 9.23054 11.9997C9.23054 10.4766 10.4767 9.23047 11.9998 9.23047ZM20.3075 9.23047C21.8305 9.23047 23.0767 10.4766 23.0767 11.9997C23.0767 13.5228 21.8305 14.7689 20.3075 14.7689C18.7844 14.7689 17.5382 13.5228 17.5382 11.9997C17.5382 10.4766 18.7844 9.23047 20.3075 9.23047Z" fill="white"/>
                    </svg>
                </div>
                <div class="sf-sidenav-label">More</div>
            </a>
        </nav>

        <!-- Setup Page Navigation -->
        <nav class="setup-page-nav">
            <div class="setup-search">
                <div class="setup-search-wrapper">
                    <div class="setup-search-icon">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M19.0759 17.4226L13.9221 12.3072C14.9606 10.8456 15.499 8.9995 15.2298 7.03796C14.7682 3.73027 12.0759 1.11488 8.72978 0.807188C4.19132 0.34565 0.345168 4.1918 0.806706 8.76873C1.1144 12.0764 3.72978 14.8072 7.03748 15.2687C8.99901 15.538 10.8452 14.9995 12.3067 13.961L17.4221 19.0764C17.6529 19.3072 17.999 19.3072 18.2298 19.0764L19.0375 18.2687C19.2682 18.038 19.2682 17.6533 19.0759 17.4226V17.4226ZM3.07594 8.03797C3.07594 5.3072 5.30671 3.07643 8.03748 3.07643C10.7682 3.07643 12.999 5.3072 12.999 8.03797C12.999 10.7687 10.7682 12.9995 8.03748 12.9995C5.30671 12.9995 3.07594 10.8072 3.07594 8.03797V8.03797Z" fill="#AAB6C5"/>
                        </svg>
                    </div>
                    <input type="text" class="setup-search-input">
                </div>
            </div>
            
            <ul class="setup-nav-list">
                <li><a href="#" class="setup-nav-item">Setup Home</a></li>
                <li><a href="#" class="setup-nav-item active">Salesforce Go</a></li>
                
                <li class="setup-nav-section">
                    <div class="setup-nav-section-title">Administration</div>
                    <a href="#" class="setup-nav-item">
                        <svg class="setup-nav-chevron" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.50793 1.35367L11.8772 7.66136C12.0618 7.84597 12.0618 8.15367 11.8772 8.33828L5.50793 14.646C5.32332 14.8306 5.01562 14.8306 4.83101 14.646L4.15409 13.969C3.96947 13.7844 3.96947 13.4767 4.15409 13.2921L9.16947 8.33828C9.35409 8.15367 9.35409 7.84597 9.16947 7.66136L4.18486 2.70751C4.00024 2.5229 4.00024 2.2152 4.18486 2.03059L4.86178 1.35367C5.04639 1.19982 5.32332 1.19982 5.50793 1.35367V1.35367Z" fill="#747474"/>
                        </svg>
                        Users
                    </a>
                    <a href="#" class="setup-nav-item">
                        <svg class="setup-nav-chevron" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.50793 1.35367L11.8772 7.66136C12.0618 7.84597 12.0618 8.15367 11.8772 8.33828L5.50793 14.646C5.32332 14.8306 5.01562 14.8306 4.83101 14.646L4.15409 13.969C3.96947 13.7844 3.96947 13.4767 4.15409 13.2921L9.16947 8.33828C9.35409 8.15367 9.35409 7.84597 9.16947 7.66136L4.18486 2.70751C4.00024 2.5229 4.00024 2.2152 4.18486 2.03059L4.86178 1.35367C5.04639 1.19982 5.32332 1.19982 5.50793 1.35367V1.35367Z" fill="#747474"/>
                        </svg>
                        Data
                    </a>
                    <a href="#" class="setup-nav-item">
                        <svg class="setup-nav-chevron" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.50793 1.35367L11.8772 7.66136C12.0618 7.84597 12.0618 8.15367 11.8772 8.33828L5.50793 14.646C5.32332 14.8306 5.01562 14.8306 4.83101 14.646L4.15409 13.969C3.96947 13.7844 3.96947 13.4767 4.15409 13.2921L9.16947 8.33828C9.35409 8.15367 9.35409 7.84597 9.16947 7.66136L4.18486 2.70751C4.00024 2.5229 4.00024 2.2152 4.18486 2.03059L4.86178 1.35367C5.04639 1.19982 5.32332 1.19982 5.50793 1.35367V1.35367Z" fill="#747474"/>
                        </svg>
                        Email
                    </a>
                </li>
                
                <li class="setup-nav-section">
                    <div class="setup-nav-section-title">Platform Tools</div>
                    <a href="#" class="setup-nav-item">
                        <svg class="setup-nav-chevron" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.50793 1.35367L11.8772 7.66136C12.0618 7.84597 12.0618 8.15367 11.8772 8.33828L5.50793 14.646C5.32332 14.8306 5.01562 14.8306 4.83101 14.646L4.15409 13.969C3.96947 13.7844 3.96947 13.4767 4.15409 13.2921L9.16947 8.33828C9.35409 8.15367 9.35409 7.84597 9.16947 7.66136L4.18486 2.70751C4.00024 2.5229 4.00024 2.2152 4.18486 2.03059L4.86178 1.35367C5.04639 1.19982 5.32332 1.19982 5.50793 1.35367V1.35367Z" fill="#747474"/>
                        </svg>
                        Apps
                    </a>
                    <a href="#" class="setup-nav-item">
                        <svg class="setup-nav-chevron" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.50793 1.35367L11.8772 7.66136C12.0618 7.84597 12.0618 8.15367 11.8772 8.33828L5.50793 14.646C5.32332 14.8306 5.01562 14.8306 4.83101 14.646L4.15409 13.969C3.96947 13.7844 3.96947 13.4767 4.15409 13.2921L9.16947 8.33828C9.35409 8.15367 9.35409 7.84597 9.16947 7.66136L4.18486 2.70751C4.00024 2.5229 4.00024 2.2152 4.18486 2.03059L4.86178 1.35367C5.04639 1.19982 5.32332 1.19982 5.50793 1.35367V1.35367Z" fill="#747474"/>
                        </svg>
                        Feature Settings
                    </a>
                    <a href="#" class="setup-nav-item">
                        <svg class="setup-nav-chevron" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.50793 1.35367L11.8772 7.66136C12.0618 7.84597 12.0618 8.15367 11.8772 8.33828L5.50793 14.646C5.32332 14.8306 5.01562 14.8306 4.83101 14.646L4.15409 13.969C3.96947 13.7844 3.96947 13.4767 4.15409 13.2921L9.16947 8.33828C9.35409 8.15367 9.35409 7.84597 9.16947 7.66136L4.18486 2.70751C4.00024 2.5229 4.00024 2.2152 4.18486 2.03059L4.86178 1.35367C5.04639 1.19982 5.32332 1.19982 5.50793 1.35367V1.35367Z" fill="#747474"/>
                        </svg>
                        Slack
                    </a>
                    <a href="#" class="setup-nav-item">
                        <svg class="setup-nav-chevron" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.50793 1.35367L11.8772 7.66136C12.0618 7.84597 12.0618 8.15367 11.8772 8.33828L5.50793 14.646C5.32332 14.8306 5.01562 14.8306 4.83101 14.646L4.15409 13.969C3.96947 13.7844 3.96947 13.4767 4.15409 13.2921L9.16947 8.33828C9.35409 8.15367 9.35409 7.84597 9.16947 7.66136L4.18486 2.70751C4.00024 2.5229 4.00024 2.2152 4.18486 2.03059L4.86178 1.35367C5.04639 1.19982 5.32332 1.19982 5.50793 1.35367V1.35367Z" fill="#747474"/>
                        </svg>
                        Heroku
                    </a>
                    <a href="#" class="setup-nav-item">
                        <svg class="setup-nav-chevron" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.50793 1.35367L11.8772 7.66136C12.0618 7.84597 12.0618 8.15367 11.8772 8.33828L5.50793 14.646C5.32332 14.8306 5.01562 14.8306 4.83101 14.646L4.15409 13.969C3.96947 13.7844 3.96947 13.4767 4.15409 13.2921L9.16947 8.33828C9.35409 8.15367 9.35409 7.84597 9.16947 7.66136L4.18486 2.70751C4.00024 2.5229 4.00024 2.2152 4.18486 2.03059L4.86178 1.35367C5.04639 1.19982 5.32332 1.19982 5.50793 1.35367V1.35367Z" fill="#747474"/>
                        </svg>
                        MuleSoft
                    </a>
                    <a href="#" class="setup-nav-item">
                        <svg class="setup-nav-chevron" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.50793 1.35367L11.8772 7.66136C12.0618 7.84597 12.0618 8.15367 11.8772 8.33828L5.50793 14.646C5.32332 14.8306 5.01562 14.8306 4.83101 14.646L4.15409 13.969C3.96947 13.7844 3.96947 13.4767 4.15409 13.2921L9.16947 8.33828C9.35409 8.15367 9.35409 7.84597 9.16947 7.66136L4.18486 2.70751C4.00024 2.5229 4.00024 2.2152 4.18486 2.03059L4.86178 1.35367C5.04639 1.19982 5.32332 1.19982 5.50793 1.35367V1.35367Z" fill="#747474"/>
                        </svg>
                        Einstein
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <div class="main-content">
            <div class="content-primary">
                <!-- Unified Header Section -->
                <div class="unified-header">
                    <!-- Breadcrumbs -->
                    <div class="breadcrumbs">
                        <a href="#">Salesforce Go</a>
                        <span>›</span>
                        <a href="#">Deliver Personalized Service Across Channels</a>
                        <span>›</span>
                        <span>{{ metadata.name | default("Email-to-Case") }}</span>
                    </div>

                    <!-- Page Header -->
                    <div class="page-header">
                        <div class="page-header-content">
                            <div class="feature-badge">
                                <div class="feature-badge-icon">
                                    {% set badgeType = metadata.featureBadge | default('service') %}
                                    {% if badgeType == 'sales' %}
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M4.125 12.825L6.975 9.975C7.275 9.675 7.725 9.675 8.025 9.975L10.5 12.4125L14.7 8.25H11.25C10.8375 8.25 10.5 7.9125 10.5 7.5C10.5 7.0875 10.8375 6.75 11.25 6.75H16.5C16.9125 6.75 17.25 7.0875 17.25 7.5V12.75C17.25 13.1625 16.9125 13.5 16.5 13.5C16.0875 13.5 15.75 13.1625 15.75 12.75V9.3L11.0625 14.025C10.7625 14.325 10.3125 14.325 10.0125 14.025L7.5 11.55L4.125 14.925V19.875H6.75V17.625C6.75 17.2125 7.0875 16.875 7.5 16.875C7.9125 16.875 8.25 17.2125 8.25 17.625V19.875H11.25V17.625C11.25 17.2125 11.5875 16.875 12 16.875C12.4125 16.875 12.75 17.2125 12.75 17.625V19.875H15.75V17.625C15.75 17.2125 16.0875 16.875 16.5 16.875C16.9125 16.875 17.25 17.2125 17.25 17.625V19.875H19.875V4.125H4.125V12.825Z" fill="#04E1CB"/>
                                            <path d="M10.0125 14.025C10.3125 14.325 10.7625 14.325 11.0625 14.025L15.75 9.3V12.75C15.75 13.1625 16.0875 13.5 16.5 13.5C16.9125 13.5 17.25 13.1625 17.25 12.75V7.5C17.25 7.0875 16.9125 6.75 16.5 6.75H11.25C10.8375 6.75 10.5 7.0875 10.5 7.5C10.5 7.9125 10.8375 8.25 11.25 8.25H14.7L10.5 12.4125L8.025 9.975C7.725 9.675 7.275 9.675 6.975 9.975L4.125 12.825V14.925L7.5 11.55L10.0125 14.025Z" fill="white"/>
                                            <path d="M20.625 2.625H3.375C2.9625 2.625 2.625 2.9625 2.625 3.375V20.625C2.625 21.0375 2.9625 21.375 3.375 21.375H20.625C21.0375 21.375 21.375 21.0375 21.375 20.625V3.375C21.375 2.9625 21.0375 2.625 20.625 2.625ZM19.875 19.875H17.25V17.625C17.25 17.2125 16.9125 16.875 16.5 16.875C16.0875 16.875 15.75 17.2125 15.75 17.625V19.875H12.75V17.625C12.75 17.2125 12.4125 16.875 12 16.875C11.5875 16.875 11.25 17.2125 11.25 17.625V19.875H8.25V17.625C8.25 17.2125 7.9125 16.875 7.5 16.875C7.0875 16.875 6.75 17.2125 6.75 17.625V19.875H4.125V14.925V12.825V4.125H19.875V19.875Z" fill="#0B827C"/>
                                        </svg>
                                    {% elif badgeType == 'service' %}
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M19.6874 5.7373C18.1874 4.3123 15.8624 4.3123 14.3999 5.7373L12.4874 7.6498C12.1874 7.9498 11.7374 7.9498 11.4374 7.6498L9.5249 5.7373C8.8124 5.0248 7.8374 4.6123 6.8249 4.6123C4.6874 4.6123 2.9624 6.3373 2.9624 8.4373C2.9624 9.4498 3.3749 10.4248 4.0874 11.1748L11.9624 19.0498L19.8374 11.1748C21.2999 9.6373 21.2249 7.1998 19.6874 5.7373Z" fill="#FF538A"/>
                                            <path d="M7.0874 7.6123C6.4499 7.6123 5.9624 8.0998 5.9624 8.73731C5.9624 9.14981 5.6249 9.48731 5.2124 9.48731C4.7999 9.48731 4.4624 9.14981 4.4624 8.73731C4.4624 7.2748 5.6249 6.1123 7.0874 6.1123C7.4999 6.1123 7.8374 6.4498 7.8374 6.8623C7.8374 7.2748 7.4999 7.6123 7.0874 7.6123Z" fill="#FF538A"/>
                                            <path d="M20.8873 4.6873C18.7873 2.5873 15.4123 2.5873 13.3123 4.6873L11.9248 6.07481L10.5373 4.6873C8.47479 2.7373 5.24979 2.7373 3.18729 4.6873C1.08729 6.7123 0.974793 10.1248 3.03729 12.2623L11.4373 20.6623C11.5873 20.8123 11.7748 20.8873 11.9623 20.8873C12.1498 20.8873 12.3373 20.8123 12.4873 20.6623L20.8873 12.2623C22.9873 10.1623 22.9873 6.7873 20.8873 4.6873Z" fill="#8A033E"/>
                                            <path d="M11.9624 19.0498L4.0874 11.1748C3.3749 10.4623 2.9624 9.4873 2.9624 8.4373C2.9624 6.2998 4.6874 4.6123 6.8249 4.6123C7.8374 4.6123 8.8124 5.0248 9.5249 5.7373L11.4374 7.6498C11.7374 7.9498 12.1874 7.9498 12.4874 7.6498L14.3999 5.7373C15.8999 4.3123 18.2249 4.3123 19.6874 5.7373C21.2249 7.1998 21.2999 9.6373 19.8374 11.1748L11.9624 19.0498Z" fill="#FF538A"/>
                                            <path d="M7.0874 6.1123C5.6249 6.1123 4.4624 7.2748 4.4624 8.73731C4.4624 9.14981 4.7999 9.48731 5.2124 9.48731C5.6249 9.48731 5.9624 9.14981 5.9624 8.73731C5.9624 8.0998 6.4499 7.6123 7.0874 7.6123C7.4999 7.6123 7.8374 7.2748 7.8374 6.8623C7.8374 6.4498 7.4999 6.1123 7.0874 6.1123Z" fill="white"/>
                                        </svg>
                                    {% elif badgeType == 'marketing' %}
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <g clip-path="url(#clip0_17046_268360)">
                                            <path d="M10.6874 12.75C8.8124 12.75 7.3124 14.25 7.3124 16.125C7.3124 16.2 7.3124 16.275 7.2749 16.3125C8.2874 16.9125 9.4499 17.25 10.6874 17.25C11.9249 17.25 13.0874 16.9125 14.0999 16.3125C14.0999 16.2375 14.0624 16.2 14.0624 16.125C14.0624 14.25 12.5624 12.75 10.6874 12.75Z" fill="white"/>
                                            <path d="M10.6875 11.25C11.9301 11.25 12.9375 10.2426 12.9375 9C12.9375 7.75736 11.9301 6.75 10.6875 6.75C9.44486 6.75 8.4375 7.75736 8.4375 9C8.4375 10.2426 9.44486 11.25 10.6875 11.25Z" fill="white"/>
                                            <path d="M8.2875 11.8875C7.4625 11.2125 6.9375 10.1625 6.9375 9C6.9375 6.9375 8.625 5.25 10.6875 5.25C12.75 5.25 14.4375 6.9375 14.4375 9C14.4375 10.1625 13.9125 11.2125 13.0875 11.8875C14.325 12.6 15.225 13.8 15.4875 15.2625C16.6875 14.025 17.4375 12.375 17.4375 10.5C17.4375 6.7875 14.4 3.75 10.6875 3.75C6.975 3.75 3.9375 6.7875 3.9375 10.5C3.9375 12.3375 4.6875 14.025 5.8875 15.2625C6.15 13.8 7.05 12.6 8.2875 11.8875Z" fill="#FFBA90"/>
                                            <path d="M21.3375 18.6L17.6625 14.925C18.4875 13.65 18.9375 12.15 18.9375 10.5C18.9375 5.925 15.225 2.25 10.6875 2.25C6.15 2.25 2.4375 5.925 2.4375 10.5C2.4375 15.075 6.15 18.75 10.6875 18.75C12.1125 18.75 13.4625 18.375 14.625 17.7375L18.4125 21.525C18.5625 21.675 18.75 21.75 18.9375 21.75C19.125 21.75 19.3125 21.675 19.4625 21.525L21.3375 19.65C21.6375 19.35 21.6375 18.9 21.3375 18.6Z" fill="#DD7A01"/>
                                            </g>
                                            <defs>
                                            <clipPath id="clip0_17046_268360">
                                            <rect width="24" height="24" fill="white"/>
                                            </clipPath>
                                            </defs>
                                        </svg>
                                    {% elif badgeType == 'data' %}
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <g clip-path="url(#clip0_17046_268360)">
                                            <path d="M12 3C7.05 3 3 7.05 3 12C3 14.9625 4.425 17.5875 6.675 19.2375C6.9375 17.5125 7.9875 16.05 9.4875 15.2625C8.5125 14.5125 7.875 13.3125 7.875 12C7.875 9.7125 9.7125 7.875 12 7.875C14.2875 7.875 16.125 9.7125 16.125 12C16.125 13.3125 15.4875 14.5125 14.5125 15.2625C15.975 16.05 17.0625 17.5125 17.325 19.2375C19.575 17.5875 21 14.9625 21 12C21 7.05 16.95 3 12 3Z" fill="#8A8ED1"/>
                                            <path d="M12 14.625C13.4497 14.625 14.625 13.4497 14.625 12C14.625 10.5503 13.4497 9.375 12 9.375C10.5503 9.375 9.375 10.5503 9.375 12C9.375 13.4497 10.5503 14.625 12 14.625Z" fill="white"/>
                                            <path d="M12.0001 16.1621C9.8626 16.1621 8.1001 17.9246 8.1001 20.0621V20.0996C9.2626 20.6621 10.6126 20.9996 12.0001 20.9996C13.3876 20.9996 14.7376 20.6621 15.9001 20.0996V20.0621C15.9001 17.8871 14.1376 16.1621 12.0001 16.1621Z" fill="white"/>
                                            </g>
                                            <defs>
                                            <clipPath id="clip0_17046_268360">
                                            <rect width="24" height="24" fill="white"/>
                                            </clipPath>
                                            </defs>
                                        </svg>
                                    {% else %}
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M19.6874 5.7373C18.1874 4.3123 15.8624 4.3123 14.3999 5.7373L12.4874 7.6498C12.1874 7.9498 11.7374 7.9498 11.4374 7.6498L9.5249 5.7373C8.8124 5.0248 7.8374 4.6123 6.8249 4.6123C4.6874 4.6123 2.9624 6.3373 2.9624 8.4373C2.9624 9.4498 3.3749 10.4248 4.0874 11.1748L11.9624 19.0498L19.8374 11.1748C21.2999 9.6373 21.2249 7.1998 19.6874 5.7373Z" fill="#FF538A"/>
                                        </svg>
                                    {% endif %}
                                </div>
                                {% if badgeType == 'sales' %}Sales
                                {% elif badgeType == 'service' %}Service
                                {% elif badgeType == 'industries' %}Industries  
                                {% elif badgeType == 'field-service' %}Field Service
                                {% elif badgeType == 'foundations' %}Foundations
                                {% elif badgeType == 'financial-services' %}Financial Services
                                {% elif badgeType == 'marketing' %}Marketing
                                {% elif badgeType == 'itsm' %}ITSM
                                {% elif badgeType == 'public-sector' %}Public Sector
                                {% elif badgeType == 'revenue-cloud' %}Revenue Cloud
                                {% elif badgeType == 'commerce' %}Commerce
                                {% elif badgeType == 'data' %}Data
                                {% elif badgeType == 'education' %}Education
                                {% elif badgeType == 'automotive' %}Automotive
                                {% elif badgeType == 'nonprofit' %}Nonprofit
                                {% elif badgeType == 'manufacturing' %}Manufacturing
                                {% elif badgeType == 'healthcare' %}Healthcare
                                {% elif badgeType == 'sentos' %}SentOS
                                {% else %}Service
                                {% endif %}
                            </div>
                            <h1 class="page-title editable" data-field="title">
                                {{ metadata.name | default("Email-to-Case") }}
                                <svg class="lock-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M5.07656 8.76723H6.92271C7.19964 8.76723 7.38425 8.62877 7.38425 8.35186V8.3057C7.38425 5.67501 9.64579 3.50584 12.3227 3.69045C14.7689 3.87506 16.615 5.99808 16.615 8.49031V8.35186C16.615 8.62877 16.7996 8.76723 17.0766 8.76723H18.9227C19.1996 8.76723 19.3843 8.62877 19.3843 8.35186V8.3057C19.3843 4.10583 15.8766 0.736694 11.6304 0.921304C7.70733 1.10591 4.70733 4.42889 4.61502 8.35186C4.66117 8.58262 4.84579 8.76723 5.07656 8.76723ZM4.61511 8.35303V8.53764V8.35303ZM21.2306 12.461C21.2306 11.4456 20.3998 10.6148 19.3844 10.6148H4.6152C3.59981 10.6148 2.76904 11.4456 2.76904 12.461V21.2308C2.76904 22.2462 3.59981 23.0771 4.6152 23.0771H19.3844C20.3998 23.0771 21.2306 22.2462 21.2306 21.2308V12.461ZM14.1228 19.706C14.2151 19.9829 13.9844 20.306 13.6613 20.306H10.2921C9.96898 20.306 9.78436 20.0291 9.83052 19.706L10.6613 16.9368C9.96898 16.4753 9.5536 15.6446 9.69206 14.7215C9.87667 13.8446 10.569 13.1523 11.4921 12.9677C12.969 12.6908 14.2613 13.7523 14.2613 15.1369C14.2613 15.8753 13.8921 16.5676 13.2921 16.9368L14.1228 19.706Z" fill="#181818"/>
                                </svg>
                            </h1>
                            <p class="page-subtitle editable" data-field="description">{{ metadata.description | default("Provide seamless support to customers across their favorite communication channels.") }}</p>
                            
                            <div class="progress-status">
                                <span class="progress-text">5 of 5 Steps Completed</span>
                                <a href="#" class="refresh-btn">🔄 Refresh</a>
                            </div>

                            <!-- Unowned State Content -->
                            <div class="unowned-links">
                                <a href="#">Learn More</a>
                                <a href="#">Prerequisites</a>
                                <a href="#">System Requirements</a>
                                <a href="#">Documentation</a>
                            </div>
                            <button class="view-setup-btn">View Setup Options</button>
                        </div>

                        <!-- Screenshot/Preview Image -->
                        <div class="page-header-image">
                            {% if assets.screenshotDataUrl %}
                            <img id="screenshot-preview" src="{{ assets.screenshotDataUrl }}" alt="Feature Preview">
                            {% else %}
                            <div id="screenshot-preview" class="preview-placeholder">Feature Preview</div>
                            {% endif %}
                            <div class="screenshot-edit-overlay" onclick="document.getElementById('screenshot-upload').click()">
                                📷 Change Image
                            </div>
                            <input type="file" id="screenshot-upload" accept="image/*">
                        </div>
                    </div>
                </div>

                <!-- Sections Container -->
                <div id="sections-container">
                    <!-- Add Section Button (top) -->
                    <button class="add-section-btn" onclick="addSection(this)">
                        ➕ Add New Section Above
                    </button>

                    <!-- Turn On Section -->
                    <div class="config-section" data-section-id="turn-on">
                        <div class="section-header" onclick="toggleSection(this)">
                            <span class="section-toggle"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M14.6461 5.47668L8.33841 11.8459C8.15379 12.0305 7.8461 12.0305 7.66149 11.8459L1.35379 5.47668C1.16918 5.29207 1.16918 4.98438 1.35379 4.79976L2.03072 4.12284C2.21533 3.93822 2.52302 3.93822 2.70764 4.12284L7.66149 9.13822C7.8461 9.32284 8.15379 9.32284 8.33841 9.13822L13.2923 4.15361C13.4769 3.96899 13.7846 3.96899 13.9692 4.15361L14.6461 4.83053C14.7999 5.01514 14.7999 5.29207 14.6461 5.47668V5.47668Z" fill="#747474"/>
</svg></span>
                            <div class="section-title-area">
                                <h2 class="section-title editable" data-field="section-turn-on-title">Turn On {{ metadata.name | default("Feature Name") }}</h2>
                                <p class="section-description editable" data-field="section-turn-on-description">Description as needed to help user understand the list of steps below.</p>
                                <div class="section-links" onclick="event.stopPropagation()">
                                    <a href="#" onclick="event.stopPropagation()">
                                        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M11.4001 2.81578C11.3539 2.67731 11.1923 2.65424 11.0769 2.74655L9.20674 4.61579C9.06821 4.75425 8.83733 4.75425 8.6988 4.61579L7.38278 3.3004C7.24425 3.16193 7.24425 2.93116 7.38278 2.7927L9.276 0.923456C9.36835 0.831148 9.32218 0.669608 9.20674 0.600377C8.8835 0.508068 8.53718 0.461914 8.21395 0.461914C6.25147 0.461914 4.68148 2.14654 4.91236 4.15425C4.95854 4.47733 5.0278 4.75425 5.14324 5.03118L0.825777 9.32352C0.31784 9.83121 0.31784 10.662 0.825777 11.1466C1.07975 11.4005 1.42607 11.5389 1.7493 11.5389C2.07253 11.5389 2.41885 11.4005 2.67282 11.1466L6.9672 6.85427C7.24425 6.96965 7.5444 7.03889 7.84454 7.08504C9.8532 7.31581 11.5386 5.74657 11.5386 3.78502C11.5386 3.43886 11.4925 3.11578 11.4001 2.81578Z" fill="#0B5CAB"/>
                                        </svg>
                                        Preview Default Settings
                                    </a>
                                    <a href="#" onclick="event.stopPropagation()">
                                        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M10.2463 0.460938H4.33859C3.73858 0.460938 3.23089 0.968625 3.23089 1.56862V1.75323C3.23089 1.86862 3.30012 1.93785 3.4155 1.93785H8.76939C9.3694 1.93785 9.87709 2.44553 9.87709 3.04553V8.76855C9.87709 8.88394 9.94632 8.95317 10.0617 8.95317H10.2463C10.8463 8.95317 11.354 8.44548 11.354 7.84549V1.56862C11.354 0.968625 10.8463 0.460938 10.2463 0.460938ZM7.66192 3.04598H1.75419C1.15418 3.04598 0.646484 3.55367 0.646484 4.15366V10.4305C0.646484 11.0305 1.15418 11.5382 1.75419 11.5382H7.66192C8.26193 11.5382 8.76962 11.0305 8.76962 10.4305V4.15366C8.76962 3.55367 8.26193 3.04598 7.66192 3.04598ZM3.23099 9.69164C3.23099 9.89933 3.06945 10.0609 2.86175 10.0609H2.49252C2.28483 10.0609 2.12329 9.89933 2.12329 9.69164V9.32241C2.12329 9.11472 2.28483 8.95318 2.49252 8.95318H2.86175C3.06945 8.95318 3.23099 9.11472 3.23099 9.32241V9.69164ZM3.23099 7.47601C3.23099 7.6837 3.06945 7.84524 2.86175 7.84524H2.49252C2.28483 7.84524 2.12329 7.6837 2.12329 7.47601V7.10678C2.12329 6.89909 2.28483 6.73756 2.49252 6.73756H2.86175C3.06945 6.73756 3.23099 6.89909 3.23099 7.10678V7.47601ZM3.23099 5.26038C3.23099 5.46807 3.06945 5.62961 2.86175 5.62961H2.49252C2.28483 5.62961 2.12329 5.46807 2.12329 5.26038V4.89115C2.12329 4.68346 2.28483 4.52193 2.49252 4.52193H2.86175C3.06945 4.52193 3.23099 4.68346 3.23099 4.89115V5.26038ZM7.29277 9.69164C7.29277 9.89933 7.13123 10.0609 6.92354 10.0609H4.36198C4.15429 10.0609 3.99275 9.89933 3.99275 9.69164V9.32241C3.99275 9.11472 4.15429 8.95318 4.36198 8.95318H6.92354C7.13123 8.95318 7.29277 9.11472 7.29277 9.32241V9.69164ZM7.29277 7.47601C7.29277 7.6837 7.13123 7.84524 6.92354 7.84524H4.36198C4.15429 7.84524 3.99275 7.6837 3.99275 7.47601V7.10678C3.99275 6.89909 4.15429 6.73756 4.36198 6.73756H6.92354C7.13123 6.73756 7.29277 6.89909 7.29277 7.10678V7.47601ZM7.29277 5.26038C7.29277 5.46807 7.13123 5.62961 6.92354 5.62961H4.36198C4.15429 5.62961 3.99275 5.46807 3.99275 5.26038V4.89115C3.99275 4.68346 4.15429 4.52193 4.36198 4.52193H6.92354C7.13123 4.52193 7.29277 4.68346 7.29277 4.89115V5.26038Z" fill="#0B5CAB"/>
                                        </svg>
                                        See Considerations
                                    </a>
                                    <a href="#" onclick="event.stopPropagation()">
                                        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M6.02293 4.40797C5.12293 4.40797 4.40754 5.12335 4.40754 6.02336C4.40754 6.92336 5.12293 7.63874 6.02293 7.63874C6.92293 7.63874 7.63831 6.92336 7.63831 6.02336C7.63831 5.12335 6.92293 4.40797 6.02293 4.40797ZM10.869 7.47668L10.0152 6.7613C10.0613 6.50745 10.0844 6.23053 10.0844 5.97668C10.0844 5.72284 10.0613 5.44591 10.0152 5.19207L10.869 4.47668C11.1459 4.24591 11.2383 3.83053 11.0536 3.50745L10.6844 2.8613C10.5459 2.63053 10.2921 2.49207 10.0152 2.49207C9.92287 2.49207 9.83056 2.51514 9.76133 2.53822L8.69979 2.93053C8.28441 2.5613 7.82287 2.30745 7.33826 2.14591L7.15364 1.0613C7.08441 0.692067 6.76133 0.484375 6.3921 0.484375H5.65364C5.28441 0.484375 4.96133 0.692067 4.8921 1.0613L4.70749 2.12284C4.19979 2.28438 3.73826 2.5613 3.32287 2.90745L2.26133 2.51514C2.16902 2.49207 2.09979 2.46899 2.00749 2.46899C1.73056 2.46899 1.47672 2.60745 1.33826 2.83822L0.969025 3.48438C0.78441 3.80745 0.85364 4.22284 1.15364 4.45361L2.00749 5.16899C1.96133 5.42284 1.93826 5.69976 1.93826 5.95361C1.93826 6.23053 1.96133 6.48438 2.00749 6.73822L1.15364 7.45361C0.876717 7.68438 0.78441 8.09976 0.969025 8.42284L1.33826 9.06899C1.47672 9.29976 1.73056 9.43822 2.00749 9.43822C2.09979 9.43822 2.1921 9.41515 2.26133 9.39207L3.32287 8.99976C3.73826 9.36899 4.19979 9.62284 4.68441 9.78438L4.86902 10.8921C4.93826 11.2613 5.23826 11.5151 5.63056 11.5151H6.36902C6.73826 11.5151 7.06133 11.2382 7.13056 10.869L7.31518 9.7613C7.84595 9.57668 8.33056 9.29976 8.74595 8.90745L9.73826 9.29976C9.83056 9.32284 9.92287 9.34592 10.0152 9.34592C10.2921 9.34592 10.5459 9.20745 10.6844 8.97668L11.0306 8.37668C11.2383 8.12284 11.1459 7.70745 10.869 7.47668ZM6.02302 8.56131C4.61532 8.56131 3.48455 7.43054 3.48455 6.02285C3.48455 4.61516 4.61532 3.48439 6.02302 3.48439C7.43071 3.48439 8.56148 4.61516 8.56148 6.02285C8.56148 7.43054 7.43071 8.56131 6.02302 8.56131Z" fill="#0B5CAB"/>
                                        </svg>
                                        Setup Help
                                    </a>
                                </div>
                            </div>
                            <button class="turn-on-toggle" onclick="toggleFeatureState(this)">
                                <svg width="48" height="42" viewBox="0 0 48 42" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <!-- Toggle track background -->
                                    <rect class="toggle-track" width="48" height="24" rx="12" fill="#AEAEAE"/>
                                    
                                    <!-- Toggle circle -->
                                    <circle class="toggle-circle" cx="12" cy="12" r="10" fill="white"/>
                                    
                                    <!-- Checkmark (hidden by default) -->
                                    <path class="toggle-checkmark" fill-rule="evenodd" clip-rule="evenodd" d="M12.4076 15.8077L8.59994 11.9769C8.46148 11.8385 8.46148 11.6077 8.59994 11.4692L9.10763 10.9615C9.24609 10.8231 9.47686 10.8231 9.61532 10.9615L12.4769 13.8462C12.5692 13.9385 12.7307 13.9385 12.823 13.8462L18.4307 8.19232C18.5692 8.05386 18.7999 8.05386 18.9384 8.19232L19.4461 8.70001C19.5846 8.83847 19.5846 9.06924 19.4461 9.2077L12.9153 15.8077C12.7769 15.9692 12.5461 15.9692 12.4076 15.8077Z" fill="white" opacity="0"/>
                                    
                                    <!-- Off label -->
                                    <text class="toggle-label-off" x="24" y="38" text-anchor="middle" fill="#444444" font-family="SF Pro, Salesforce Sans, -apple-system, BlinkMacSystemFont, Segoe UI, Arial, sans-serif" font-size="11" font-weight="400">Off</text>
                                    
                                    <!-- On label (hidden by default) -->
                                    <text class="toggle-label-on" x="24" y="38" text-anchor="middle" fill="#444444" font-family="SF Pro, Salesforce Sans, -apple-system, BlinkMacSystemFont, Segoe UI, Arial, sans-serif" font-size="11" font-weight="400" opacity="0">On</text>
                                </svg>
                            </button>
                            <button class="delete-section-btn" onclick="deleteSection(this)" title="Delete Section">✖</button>
                            <button class="drag-handle" draggable="true" title="Drag to reorder">≡</button>
                        </div>
                    <div class="section-content">
                        <div class="step-item">
                            <div class="step-icon default">
                                <!-- Default state -->
                                <svg class="step-state step-default" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="white"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="#C9C9C9"/>
                                </svg>
                                <!-- Active state -->
                                <svg class="step-state step-active" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="#0176D3"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="white"/>
                                </svg>
                                <!-- Complete state -->
                                <svg class="step-state step-complete" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 17C14.3137 17 17 14.3137 17 11C17 7.68629 14.3137 5 11 5C7.68629 5 5 7.68629 5 11C5 14.3137 7.68629 17 11 17Z" fill="#2E844A"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.93826 13.5387L7.3998 10.9849C7.30749 10.8926 7.30749 10.7387 7.3998 10.6464L7.73826 10.308C7.83057 10.2157 7.98441 10.2157 8.07672 10.308L9.98441 12.231C10.046 12.2926 10.1536 12.2926 10.2152 12.231L13.9536 8.46181C14.046 8.3695 14.1998 8.3695 14.2921 8.46181L14.6306 8.80027C14.7229 8.89258 14.7229 9.04642 14.6306 9.13873L10.2767 13.5387C10.1844 13.6464 10.0306 13.6464 9.93826 13.5387V13.5387Z" fill="white"/>
                                </svg>
                                <!-- Error state -->
                                <svg class="step-state step-error" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10.9999 3.61523C6.93831 3.61523 3.61523 6.93831 3.61523 10.9999C3.61523 15.0614 6.93831 18.3845 10.9999 18.3845C15.0614 18.3845 18.3845 15.0614 18.3845 10.9999C18.3845 6.93831 15.0614 3.61523 10.9999 3.61523ZM5.46141 10.9998C5.46141 7.95367 7.95372 5.46136 10.9999 5.46136C12.1999 5.46136 13.3076 5.83059 14.1999 6.47675L6.4768 14.1998C5.83064 13.3075 5.46141 12.1998 5.46141 10.9998V10.9998ZM10.9997 16.5383C9.79973 16.5383 8.69204 16.1691 7.79973 15.523L15.5228 7.79988C16.169 8.69219 16.5382 9.79988 16.5382 10.9999C16.5382 14.046 14.0459 16.5383 10.9997 16.5383Z" fill="#BA0517"/>
                                </svg>
                            </div>
                            <div class="step-content has-description">
                                <div class="step-title editable" data-field="step-1-title">Step Title</div>
                                <div class="step-description editable" data-field="step-1-description">Optional description providing additional context or details about this configuration step.</div>
                                <button class="add-description-btn" onclick="addStepDescription(this)" title="Add Description">+ Description</button>
                                <button class="remove-description-btn" onclick="removeStepDescription(this)" title="Remove Description">✖ Description</button>
                            </div>
                            <a href="#" class="step-action">Review ↗</a>
                            <button class="remove-step-btn" onclick="removeStep(this)" title="Remove Step">✖</button>
                        </div>
                        
                        <div class="step-item">
                            <div class="step-icon default">
                                <!-- Default state -->
                                <svg class="step-state step-default" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="white"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="#C9C9C9"/>
                                </svg>
                                <!-- Active state -->
                                <svg class="step-state step-active" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="#0176D3"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="white"/>
                                </svg>
                                <!-- Complete state -->
                                <svg class="step-state step-complete" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 17C14.3137 17 17 14.3137 17 11C17 7.68629 14.3137 5 11 5C7.68629 5 5 7.68629 5 11C5 14.3137 7.68629 17 11 17Z" fill="#2E844A"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.93826 13.5387L7.3998 10.9849C7.30749 10.8926 7.30749 10.7387 7.3998 10.6464L7.73826 10.308C7.83057 10.2157 7.98441 10.2157 8.07672 10.308L9.98441 12.231C10.046 12.2926 10.1536 12.2926 10.2152 12.231L13.9536 8.46181C14.046 8.3695 14.1998 8.3695 14.2921 8.46181L14.6306 8.80027C14.7229 8.89258 14.7229 9.04642 14.6306 9.13873L10.2767 13.5387C10.1844 13.6464 10.0306 13.6464 9.93826 13.5387V13.5387Z" fill="white"/>
                                </svg>
                                <!-- Error state -->
                                <svg class="step-state step-error" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10.9999 3.61523C6.93831 3.61523 3.61523 6.93831 3.61523 10.9999C3.61523 15.0614 6.93831 18.3845 10.9999 18.3845C15.0614 18.3845 18.3845 15.0614 18.3845 10.9999C18.3845 6.93831 15.0614 3.61523 10.9999 3.61523ZM5.46141 10.9998C5.46141 7.95367 7.95372 5.46136 10.9999 5.46136C12.1999 5.46136 13.3076 5.83059 14.1999 6.47675L6.4768 14.1998C5.83064 13.3075 5.46141 12.1998 5.46141 10.9998V10.9998ZM10.9997 16.5383C9.79973 16.5383 8.69204 16.1691 7.79973 15.523L15.5228 7.79988C16.169 8.69219 16.5382 9.79988 16.5382 10.9999C16.5382 14.046 14.0459 16.5383 10.9997 16.5383Z" fill="#BA0517"/>
                                </svg>
                            </div>
                            <div class="step-content">
                                <div class="step-title editable" data-field="step-2-title">Step Title</div>
                                <div class="step-description editable empty" data-field="step-2-description"></div>
                                <button class="add-description-btn" onclick="addStepDescription(this)" title="Add Description">+ Description</button>
                                <button class="remove-description-btn" onclick="removeStepDescription(this)" title="Remove Description">✖ Description</button>
                            </div>
                            <button class="remove-step-btn" onclick="removeStep(this)" title="Remove Step">✖</button>
                        </div>
                        
                        <div class="step-item">
                            <div class="step-icon default">
                                <!-- Default state -->
                                <svg class="step-state step-default" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="white"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="#C9C9C9"/>
                                </svg>
                                <!-- Active state -->
                                <svg class="step-state step-active" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="#0176D3"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="white"/>
                                </svg>
                                <!-- Complete state -->
                                <svg class="step-state step-complete" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 17C14.3137 17 17 14.3137 17 11C17 7.68629 14.3137 5 11 5C7.68629 5 5 7.68629 5 11C5 14.3137 7.68629 17 11 17Z" fill="#2E844A"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.93826 13.5387L7.3998 10.9849C7.30749 10.8926 7.30749 10.7387 7.3998 10.6464L7.73826 10.308C7.83057 10.2157 7.98441 10.2157 8.07672 10.308L9.98441 12.231C10.046 12.2926 10.1536 12.2926 10.2152 12.231L13.9536 8.46181C14.046 8.3695 14.1998 8.3695 14.2921 8.46181L14.6306 8.80027C14.7229 8.89258 14.7229 9.04642 14.6306 9.13873L10.2767 13.5387C10.1844 13.6464 10.0306 13.6464 9.93826 13.5387V13.5387Z" fill="white"/>
                                </svg>
                                <!-- Error state -->
                                <svg class="step-state step-error" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10.9999 3.61523C6.93831 3.61523 3.61523 6.93831 3.61523 10.9999C3.61523 15.0614 6.93831 18.3845 10.9999 18.3845C15.0614 18.3845 18.3845 15.0614 18.3845 10.9999C18.3845 6.93831 15.0614 3.61523 10.9999 3.61523ZM5.46141 10.9998C5.46141 7.95367 7.95372 5.46136 10.9999 5.46136C12.1999 5.46136 13.3076 5.83059 14.1999 6.47675L6.4768 14.1998C5.83064 13.3075 5.46141 12.1998 5.46141 10.9998V10.9998ZM10.9997 16.5383C9.79973 16.5383 8.69204 16.1691 7.79973 15.523L15.5228 7.79988C16.169 8.69219 16.5382 9.79988 16.5382 10.9999C16.5382 14.046 14.0459 16.5383 10.9997 16.5383Z" fill="#BA0517"/>
                                </svg>
                            </div>
                            <div class="step-content">
                                <div class="step-title editable" data-field="step-3-title">Step Title</div>
                                <div class="step-description editable empty" data-field="step-3-description"></div>
                                <button class="add-description-btn" onclick="addStepDescription(this)" title="Add Description">+ Description</button>
                                <button class="remove-description-btn" onclick="removeStepDescription(this)" title="Remove Description">✖ Description</button>
                            </div>
                            <button class="remove-step-btn" onclick="removeStep(this)" title="Remove Step">✖</button>
                        </div>
                        
                        <!-- Add Step Button -->
                        <button class="add-step-btn" onclick="addStep(this.closest('.config-section'))" title="Add Step">+ Add Step</button>
                        </div>
                    </div>

                    <!-- Add Section Button -->
                    <button class="add-section-btn" onclick="addSection(this)">
                        ➕ Add New Section Here
                    </button>

                    <!-- Set Up the Basics -->
                    <div class="config-section" data-section-id="basics">
                        <div class="section-header" onclick="toggleSection(this)">
                            <span class="section-toggle"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M14.6461 5.47668L8.33841 11.8459C8.15379 12.0305 7.8461 12.0305 7.66149 11.8459L1.35379 5.47668C1.16918 5.29207 1.16918 4.98438 1.35379 4.79976L2.03072 4.12284C2.21533 3.93822 2.52302 3.93822 2.70764 4.12284L7.66149 9.13822C7.8461 9.32284 8.15379 9.32284 8.33841 9.13822L13.2923 4.15361C13.4769 3.96899 13.7846 3.96899 13.9692 4.15361L14.6461 4.83053C14.7999 5.01514 14.7999 5.29207 14.6461 5.47668V5.47668Z" fill="#747474"/>
</svg></span>
                            <div class="section-title-area">
                                <h2 class="section-title editable" data-field="section-basics-title">Set Up the Basics</h2>
                                <p class="section-description">Complete the required steps to get a basic version of this feature.</p>
                            </div>
                            <button class="delete-section-btn" onclick="deleteSection(this)" title="Delete Section">✖</button>
                            <button class="drag-handle" draggable="true" title="Drag to reorder">≡</button>
                        </div>
                    <div class="section-content">
                        <div class="step-item">
                            <div class="step-icon default">
                                <!-- Default state -->
                                <svg class="step-state step-default" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="white"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="#C9C9C9"/>
                                </svg>
                                <!-- Active state -->
                                <svg class="step-state step-active" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="#0176D3"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="white"/>
                                </svg>
                                <!-- Complete state -->
                                <svg class="step-state step-complete" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 17C14.3137 17 17 14.3137 17 11C17 7.68629 14.3137 5 11 5C7.68629 5 5 7.68629 5 11C5 14.3137 7.68629 17 11 17Z" fill="#2E844A"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.93826 13.5387L7.3998 10.9849C7.30749 10.8926 7.30749 10.7387 7.3998 10.6464L7.73826 10.308C7.83057 10.2157 7.98441 10.2157 8.07672 10.308L9.98441 12.231C10.046 12.2926 10.1536 12.2926 10.2152 12.231L13.9536 8.46181C14.046 8.3695 14.1998 8.3695 14.2921 8.46181L14.6306 8.80027C14.7229 8.89258 14.7229 9.04642 14.6306 9.13873L10.2767 13.5387C10.1844 13.6464 10.0306 13.6464 9.93826 13.5387V13.5387Z" fill="white"/>
                                </svg>
                                <!-- Error state -->
                                <svg class="step-state step-error" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10.9999 3.61523C6.93831 3.61523 3.61523 6.93831 3.61523 10.9999C3.61523 15.0614 6.93831 18.3845 10.9999 18.3845C15.0614 18.3845 18.3845 15.0614 18.3845 10.9999C18.3845 6.93831 15.0614 3.61523 10.9999 3.61523ZM5.46141 10.9998C5.46141 7.95367 7.95372 5.46136 10.9999 5.46136C12.1999 5.46136 13.3076 5.83059 14.1999 6.47675L6.4768 14.1998C5.83064 13.3075 5.46141 12.1998 5.46141 10.9998V10.9998ZM10.9997 16.5383C9.79973 16.5383 8.69204 16.1691 7.79973 15.523L15.5228 7.79988C16.169 8.69219 16.5382 9.79988 16.5382 10.9999C16.5382 14.046 14.0459 16.5383 10.9997 16.5383Z" fill="#BA0517"/>
                                </svg>
                            </div>
                            <div class="step-content">
                                <div class="step-title editable" data-field="setup-step-1-title">Manage User Access<br><small>2 out of 10 assigned</small></div>
                                <div class="step-description editable empty" data-field="setup-step-1-description"></div>
                                <button class="add-description-btn" onclick="addStepDescription(this)" title="Add Description">+ Description</button>
                                <button class="remove-description-btn" onclick="removeStepDescription(this)" title="Remove Description">✖ Description</button>
                            </div>
                            <a href="#" class="step-action">Manage</a>
                            <button class="remove-step-btn" onclick="removeStep(this)" title="Remove Step">✖</button>
                        </div>
                        
                        <div class="step-item">
                            <div class="step-icon default">
                                <!-- Default state -->
                                <svg class="step-state step-default" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="white"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="#C9C9C9"/>
                                </svg>
                                <!-- Active state -->
                                <svg class="step-state step-active" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="#0176D3"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="white"/>
                                </svg>
                                <!-- Complete state -->
                                <svg class="step-state step-complete" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 17C14.3137 17 17 14.3137 17 11C17 7.68629 14.3137 5 11 5C7.68629 5 5 7.68629 5 11C5 14.3137 7.68629 17 11 17Z" fill="#2E844A"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.93826 13.5387L7.3998 10.9849C7.30749 10.8926 7.30749 10.7387 7.3998 10.6464L7.73826 10.308C7.83057 10.2157 7.98441 10.2157 8.07672 10.308L9.98441 12.231C10.046 12.2926 10.1536 12.2926 10.2152 12.231L13.9536 8.46181C14.046 8.3695 14.1998 8.3695 14.2921 8.46181L14.6306 8.80027C14.7229 8.89258 14.7229 9.04642 14.6306 9.13873L10.2767 13.5387C10.1844 13.6464 10.0306 13.6464 9.93826 13.5387V13.5387Z" fill="white"/>
                                </svg>
                                <!-- Error state -->
                                <svg class="step-state step-error" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10.9999 3.61523C6.93831 3.61523 3.61523 6.93831 3.61523 10.9999C3.61523 15.0614 6.93831 18.3845 10.9999 18.3845C15.0614 18.3845 18.3845 15.0614 18.3845 10.9999C18.3845 6.93831 15.0614 3.61523 10.9999 3.61523ZM5.46141 10.9998C5.46141 7.95367 7.95372 5.46136 10.9999 5.46136C12.1999 5.46136 13.3076 5.83059 14.1999 6.47675L6.4768 14.1998C5.83064 13.3075 5.46141 12.1998 5.46141 10.9998V10.9998ZM10.9997 16.5383C9.79973 16.5383 8.69204 16.1691 7.79973 15.523L15.5228 7.79988C16.169 8.69219 16.5382 9.79988 16.5382 10.9999C16.5382 14.046 14.0459 16.5383 10.9997 16.5383Z" fill="#BA0517"/>
                                </svg>
                            </div>
                            <div class="step-content">
                                <div class="step-title editable" data-field="setup-step-2-title">Add Components, Fields, and Actions to Lightning Record Pages<br><small>Component names not found in Accounts</small></div>
                                <div class="step-description editable empty" data-field="setup-step-2-description"></div>
                                <button class="add-description-btn" onclick="addStepDescription(this)" title="Add Description">+ Description</button>
                                <button class="remove-description-btn" onclick="removeStepDescription(this)" title="Remove Description">✖ Description</button>
                            </div>
                            <a href="#" class="step-action">Manage</a>
                            <button class="remove-step-btn" onclick="removeStep(this)" title="Remove Step">✖</button>
                        </div>
                        
                        <div class="step-item">
                            <div class="step-icon default">
                                <!-- Default state -->
                                <svg class="step-state step-default" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="white"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="#C9C9C9"/>
                                </svg>
                                <!-- Active state -->
                                <svg class="step-state step-active" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="#0176D3"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="white"/>
                                </svg>
                                <!-- Complete state -->
                                <svg class="step-state step-complete" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 17C14.3137 17 17 14.3137 17 11C17 7.68629 14.3137 5 11 5C7.68629 5 5 7.68629 5 11C5 14.3137 7.68629 17 11 17Z" fill="#2E844A"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.93826 13.5387L7.3998 10.9849C7.30749 10.8926 7.30749 10.7387 7.3998 10.6464L7.73826 10.308C7.83057 10.2157 7.98441 10.2157 8.07672 10.308L9.98441 12.231C10.046 12.2926 10.1536 12.2926 10.2152 12.231L13.9536 8.46181C14.046 8.3695 14.1998 8.3695 14.2921 8.46181L14.6306 8.80027C14.7229 8.89258 14.7229 9.04642 14.6306 9.13873L10.2767 13.5387C10.1844 13.6464 10.0306 13.6464 9.93826 13.5387V13.5387Z" fill="white"/>
                                </svg>
                                <!-- Error state -->
                                <svg class="step-state step-error" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10.9999 3.61523C6.93831 3.61523 3.61523 6.93831 3.61523 10.9999C3.61523 15.0614 6.93831 18.3845 10.9999 18.3845C15.0614 18.3845 18.3845 15.0614 18.3845 10.9999C18.3845 6.93831 15.0614 3.61523 10.9999 3.61523ZM5.46141 10.9998C5.46141 7.95367 7.95372 5.46136 10.9999 5.46136C12.1999 5.46136 13.3076 5.83059 14.1999 6.47675L6.4768 14.1998C5.83064 13.3075 5.46141 12.1998 5.46141 10.9998V10.9998ZM10.9997 16.5383C9.79973 16.5383 8.69204 16.1691 7.79973 15.523L15.5228 7.79988C16.169 8.69219 16.5382 9.79988 16.5382 10.9999C16.5382 14.046 14.0459 16.5383 10.9997 16.5383Z" fill="#BA0517"/>
                                </svg>
                            </div>
                            <div class="step-content">
                                <div class="step-title editable" data-field="setup-step-3-title">Create Forecast Types<br><small>0 active types</small></div>
                                <div class="step-description editable empty" data-field="setup-step-3-description"></div>
                                <button class="add-description-btn" onclick="addStepDescription(this)" title="Add Description">+ Description</button>
                                <button class="remove-description-btn" onclick="removeStepDescription(this)" title="Remove Description">✖ Description</button>
                            </div>
                            <a href="#" class="step-action">Create</a>
                            <button class="remove-step-btn" onclick="removeStep(this)" title="Remove Step">✖</button>
                        </div>
                        
                        <!-- Add Step Button -->
                        <button class="add-step-btn" onclick="addStep(this.closest('.config-section'))" title="Add Step">+ Add Step</button>
                        </div>
                    </div>

                    <!-- Add Section Button -->
                    <button class="add-section-btn" onclick="addSection(this)">
                        ➕ Add New Section Here
                    </button>

                    <!-- Review Email-to-Case Settings -->
                    <div class="config-section" data-section-id="email-case">
                        <div class="section-header" onclick="toggleSection(this)">
                            <span class="section-toggle"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M14.6461 5.47668L8.33841 11.8459C8.15379 12.0305 7.8461 12.0305 7.66149 11.8459L1.35379 5.47668C1.16918 5.29207 1.16918 4.98438 1.35379 4.79976L2.03072 4.12284C2.21533 3.93822 2.52302 3.93822 2.70764 4.12284L7.66149 9.13822C7.8461 9.32284 8.15379 9.32284 8.33841 9.13822L13.2923 4.15361C13.4769 3.96899 13.7846 3.96899 13.9692 4.15361L14.6461 4.83053C14.7999 5.01514 14.7999 5.29207 14.6461 5.47668V5.47668Z" fill="#747474"/>
</svg></span>
                            <div class="section-title-area">
                                <h2 class="section-title editable" data-field="section-email-case-title">Review Email-to-Case Settings</h2>
                            </div>
                            <button class="delete-section-btn" onclick="deleteSection(this)" title="Delete Section">✖</button>
                            <button class="drag-handle" draggable="true" title="Drag to reorder">≡</button>
                        </div>
                    <div class="section-content">
                        <div class="step-item">
                            <div class="step-icon default">
                                <!-- Default state -->
                                <svg class="step-state step-default" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="white"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="#C9C9C9"/>
                                </svg>
                                <!-- Active state -->
                                <svg class="step-state step-active" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="#0176D3"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="white"/>
                                </svg>
                                <!-- Complete state -->
                                <svg class="step-state step-complete" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 17C14.3137 17 17 14.3137 17 11C17 7.68629 14.3137 5 11 5C7.68629 5 5 7.68629 5 11C5 14.3137 7.68629 17 11 17Z" fill="#2E844A"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.93826 13.5387L7.3998 10.9849C7.30749 10.8926 7.30749 10.7387 7.3998 10.6464L7.73826 10.308C7.83057 10.2157 7.98441 10.2157 8.07672 10.308L9.98441 12.231C10.046 12.2926 10.1536 12.2926 10.2152 12.231L13.9536 8.46181C14.046 8.3695 14.1998 8.3695 14.2921 8.46181L14.6306 8.80027C14.7229 8.89258 14.7229 9.04642 14.6306 9.13873L10.2767 13.5387C10.1844 13.6464 10.0306 13.6464 9.93826 13.5387V13.5387Z" fill="white"/>
                                </svg>
                                <!-- Error state -->
                                <svg class="step-state step-error" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10.9999 3.61523C6.93831 3.61523 3.61523 6.93831 3.61523 10.9999C3.61523 15.0614 6.93831 18.3845 10.9999 18.3845C15.0614 18.3845 18.3845 15.0614 18.3845 10.9999C18.3845 6.93831 15.0614 3.61523 10.9999 3.61523ZM5.46141 10.9998C5.46141 7.95367 7.95372 5.46136 10.9999 5.46136C12.1999 5.46136 13.3076 5.83059 14.1999 6.47675L6.4768 14.1998C5.83064 13.3075 5.46141 12.1998 5.46141 10.9998V10.9998ZM10.9997 16.5383C9.79973 16.5383 8.69204 16.1691 7.79973 15.523L15.5228 7.79988C16.169 8.69219 16.5382 9.79988 16.5382 10.9999C16.5382 14.046 14.0459 16.5383 10.9997 16.5383Z" fill="#BA0517"/>
                                </svg>
                            </div>
                            <div class="step-content">
                                <div class="step-title editable" data-field="customize-step-1-title">Review Email-to-Case Settings</div>
                                <div class="step-description editable empty" data-field="customize-step-1-description"></div>
                                <button class="add-description-btn" onclick="addStepDescription(this)" title="Add Description">+ Description</button>
                                <button class="remove-description-btn" onclick="removeStepDescription(this)" title="Remove Description">✖ Description</button>
                            </div>
                            <a href="#" class="step-action">Go to Setup ↗</a>
                            <button class="remove-step-btn" onclick="removeStep(this)" title="Remove Step">✖</button>
                        </div>
                        
                        <div class="step-item">
                            <div class="step-icon default">
                                <!-- Default state -->
                                <svg class="step-state step-default" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="white"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="#C9C9C9"/>
                                </svg>
                                <!-- Active state -->
                                <svg class="step-state step-active" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="#0176D3"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="white"/>
                                </svg>
                                <!-- Complete state -->
                                <svg class="step-state step-complete" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 17C14.3137 17 17 14.3137 17 11C17 7.68629 14.3137 5 11 5C7.68629 5 5 7.68629 5 11C5 14.3137 7.68629 17 11 17Z" fill="#2E844A"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.93826 13.5387L7.3998 10.9849C7.30749 10.8926 7.30749 10.7387 7.3998 10.6464L7.73826 10.308C7.83057 10.2157 7.98441 10.2157 8.07672 10.308L9.98441 12.231C10.046 12.2926 10.1536 12.2926 10.2152 12.231L13.9536 8.46181C14.046 8.3695 14.1998 8.3695 14.2921 8.46181L14.6306 8.80027C14.7229 8.89258 14.7229 9.04642 14.6306 9.13873L10.2767 13.5387C10.1844 13.6464 10.0306 13.6464 9.93826 13.5387V13.5387Z" fill="white"/>
                                </svg>
                                <!-- Error state -->
                                <svg class="step-state step-error" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10.9999 3.61523C6.93831 3.61523 3.61523 6.93831 3.61523 10.9999C3.61523 15.0614 6.93831 18.3845 10.9999 18.3845C15.0614 18.3845 18.3845 15.0614 18.3845 10.9999C18.3845 6.93831 15.0614 3.61523 10.9999 3.61523ZM5.46141 10.9998C5.46141 7.95367 7.95372 5.46136 10.9999 5.46136C12.1999 5.46136 13.3076 5.83059 14.1999 6.47675L6.4768 14.1998C5.83064 13.3075 5.46141 12.1998 5.46141 10.9998V10.9998ZM10.9997 16.5383C9.79973 16.5383 8.69204 16.1691 7.79973 15.523L15.5228 7.79988C16.169 8.69219 16.5382 9.79988 16.5382 10.9999C16.5382 14.046 14.0459 16.5383 10.9997 16.5383Z" fill="#BA0517"/>
                                </svg>
                            </div>
                            <div class="step-content">
                                <div class="step-title editable" data-field="customize-step-2-title">Define Over Email Rate Limit Action <span style="color: #706e6b;">Optional</span></div>
                                <div class="step-description editable empty" data-field="customize-step-2-description"></div>
                                <button class="add-description-btn" onclick="addStepDescription(this)" title="Add Description">+ Description</button>
                                <button class="remove-description-btn" onclick="removeStepDescription(this)" title="Remove Description">✖ Description</button>
                            </div>
                            <a href="#" class="step-action">Go to Setup ↗</a>
                            <button class="remove-step-btn" onclick="removeStep(this)" title="Remove Step">✖</button>
                        </div>
                        
                        <div class="step-item">
                            <div class="step-icon default">
                                <!-- Default state -->
                                <svg class="step-state step-default" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="white"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="#C9C9C9"/>
                                </svg>
                                <!-- Active state -->
                                <svg class="step-state step-active" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="#0176D3"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="white"/>
                                </svg>
                                <!-- Complete state -->
                                <svg class="step-state step-complete" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 17C14.3137 17 17 14.3137 17 11C17 7.68629 14.3137 5 11 5C7.68629 5 5 7.68629 5 11C5 14.3137 7.68629 17 11 17Z" fill="#2E844A"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.93826 13.5387L7.3998 10.9849C7.30749 10.8926 7.30749 10.7387 7.3998 10.6464L7.73826 10.308C7.83057 10.2157 7.98441 10.2157 8.07672 10.308L9.98441 12.231C10.046 12.2926 10.1536 12.2926 10.2152 12.231L13.9536 8.46181C14.046 8.3695 14.1998 8.3695 14.2921 8.46181L14.6306 8.80027C14.7229 8.89258 14.7229 9.04642 14.6306 9.13873L10.2767 13.5387C10.1844 13.6464 10.0306 13.6464 9.93826 13.5387V13.5387Z" fill="white"/>
                                </svg>
                                <!-- Error state -->
                                <svg class="step-state step-error" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10.9999 3.61523C6.93831 3.61523 3.61523 6.93831 3.61523 10.9999C3.61523 15.0614 6.93831 18.3845 10.9999 18.3845C15.0614 18.3845 18.3845 15.0614 18.3845 10.9999C18.3845 6.93831 15.0614 3.61523 10.9999 3.61523ZM5.46141 10.9998C5.46141 7.95367 7.95372 5.46136 10.9999 5.46136C12.1999 5.46136 13.3076 5.83059 14.1999 6.47675L6.4768 14.1998C5.83064 13.3075 5.46141 12.1998 5.46141 10.9998V10.9998ZM10.9997 16.5383C9.79973 16.5383 8.69204 16.1691 7.79973 15.523L15.5228 7.79988C16.169 8.69219 16.5382 9.79988 16.5382 10.9999C16.5382 14.046 14.0459 16.5383 10.9997 16.5383Z" fill="#BA0517"/>
                                </svg>
                            </div>
                            <div class="step-content">
                                <div class="step-title editable" data-field="customize-step-3-title">Define Unauthorized Sender Action <span style="color: #706e6b;">Optional</span></div>
                                <div class="step-description editable empty" data-field="customize-step-3-description"></div>
                                <button class="add-description-btn" onclick="addStepDescription(this)" title="Add Description">+ Description</button>
                                <button class="remove-description-btn" onclick="removeStepDescription(this)" title="Remove Description">✖ Description</button>
                            </div>
                            <a href="#" class="step-action">Go to Setup ↗</a>
                            <button class="remove-step-btn" onclick="removeStep(this)" title="Remove Step">✖</button>
                        </div>
                        
                        <!-- Add Step Button -->
                        <button class="add-step-btn" onclick="addStep(this.closest('.config-section'))" title="Add Step">+ Add Step</button>
                        </div>
                    </div>

                    <!-- Add Section Button -->
                    <button class="add-section-btn" onclick="addSection(this)">
                        ➕ Add New Section Here
                    </button>

                    <!-- Unlock Advanced Functionality -->
                    <div class="config-section" data-section-id="advanced">
                        <div class="section-header" onclick="toggleSection(this)">
                            <span class="section-toggle"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M14.6461 5.47668L8.33841 11.8459C8.15379 12.0305 7.8461 12.0305 7.66149 11.8459L1.35379 5.47668C1.16918 5.29207 1.16918 4.98438 1.35379 4.79976L2.03072 4.12284C2.21533 3.93822 2.52302 3.93822 2.70764 4.12284L7.66149 9.13822C7.8461 9.32284 8.15379 9.32284 8.33841 9.13822L13.2923 4.15361C13.4769 3.96899 13.7846 3.96899 13.9692 4.15361L14.6461 4.83053C14.7999 5.01514 14.7999 5.29207 14.6461 5.47668V5.47668Z" fill="#747474"/>
</svg></span>
                            <div class="section-title-area">
                                <h2 class="section-title editable" data-field="section-advanced-title">Unlock Advanced Functionality</h2>
                                <p class="section-description">Customize or improve your implementation with the following optional steps.</p>
                            </div>
                            <button class="delete-section-btn" onclick="deleteSection(this)" title="Delete Section">✖</button>
                            <button class="drag-handle" draggable="true" title="Drag to reorder">≡</button>
                        </div>
                    <div class="section-content">
                        <div class="step-item">
                            <div class="step-icon default">
                                <!-- Default state -->
                                <svg class="step-state step-default" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="white"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="#C9C9C9"/>
                                </svg>
                                <!-- Active state -->
                                <svg class="step-state step-active" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="#0176D3"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="white"/>
                                </svg>
                                <!-- Complete state -->
                                <svg class="step-state step-complete" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 17C14.3137 17 17 14.3137 17 11C17 7.68629 14.3137 5 11 5C7.68629 5 5 7.68629 5 11C5 14.3137 7.68629 17 11 17Z" fill="#2E844A"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.93826 13.5387L7.3998 10.9849C7.30749 10.8926 7.30749 10.7387 7.3998 10.6464L7.73826 10.308C7.83057 10.2157 7.98441 10.2157 8.07672 10.308L9.98441 12.231C10.046 12.2926 10.1536 12.2926 10.2152 12.231L13.9536 8.46181C14.046 8.3695 14.1998 8.3695 14.2921 8.46181L14.6306 8.80027C14.7229 8.89258 14.7229 9.04642 14.6306 9.13873L10.2767 13.5387C10.1844 13.6464 10.0306 13.6464 9.93826 13.5387V13.5387Z" fill="white"/>
                                </svg>
                                <!-- Error state -->
                                <svg class="step-state step-error" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10.9999 3.61523C6.93831 3.61523 3.61523 6.93831 3.61523 10.9999C3.61523 15.0614 6.93831 18.3845 10.9999 18.3845C15.0614 18.3845 18.3845 15.0614 18.3845 10.9999C18.3845 6.93831 15.0614 3.61523 10.9999 3.61523ZM5.46141 10.9998C5.46141 7.95367 7.95372 5.46136 10.9999 5.46136C12.1999 5.46136 13.3076 5.83059 14.1999 6.47675L6.4768 14.1998C5.83064 13.3075 5.46141 12.1998 5.46141 10.9998V10.9998ZM10.9997 16.5383C9.79973 16.5383 8.69204 16.1691 7.79973 15.523L15.5228 7.79988C16.169 8.69219 16.5382 9.79988 16.5382 10.9999C16.5382 14.046 14.0459 16.5383 10.9997 16.5383Z" fill="#BA0517"/>
                                </svg>
                            </div>
                            <div class="step-content">
                                <div class="step-title editable" data-field="optional-step-1-title">Default Activity Sharing for New Users</div>
                                <div class="step-description editable empty" data-field="optional-step-1-description"></div>
                                <button class="add-description-btn" onclick="addStepDescription(this)" title="Add Description">+ Description</button>
                                <button class="remove-description-btn" onclick="removeStepDescription(this)" title="Remove Description">✖ Description</button>
                            </div>
                            <a href="#" class="step-action">Manage</a>
                            <button class="remove-step-btn" onclick="removeStep(this)" title="Remove Step">✖</button>
                        </div>
                        
                        <div class="step-item">
                            <div class="step-icon default">
                                <!-- Default state -->
                                <svg class="step-state step-default" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="white"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="#C9C9C9"/>
                                </svg>
                                <!-- Active state -->
                                <svg class="step-state step-active" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="#0176D3"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="white"/>
                                </svg>
                                <!-- Complete state -->
                                <svg class="step-state step-complete" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 17C14.3137 17 17 14.3137 17 11C17 7.68629 14.3137 5 11 5C7.68629 5 5 7.68629 5 11C5 14.3137 7.68629 17 11 17Z" fill="#2E844A"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.93826 13.5387L7.3998 10.9849C7.30749 10.8926 7.30749 10.7387 7.3998 10.6464L7.73826 10.308C7.83057 10.2157 7.98441 10.2157 8.07672 10.308L9.98441 12.231C10.046 12.2926 10.1536 12.2926 10.2152 12.231L13.9536 8.46181C14.046 8.3695 14.1998 8.3695 14.2921 8.46181L14.6306 8.80027C14.7229 8.89258 14.7229 9.04642 14.6306 9.13873L10.2767 13.5387C10.1844 13.6464 10.0306 13.6464 9.93826 13.5387V13.5387Z" fill="white"/>
                                </svg>
                                <!-- Error state -->
                                <svg class="step-state step-error" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10.9999 3.61523C6.93831 3.61523 3.61523 6.93831 3.61523 10.9999C3.61523 15.0614 6.93831 18.3845 10.9999 18.3845C15.0614 18.3845 18.3845 15.0614 18.3845 10.9999C18.3845 6.93831 15.0614 3.61523 10.9999 3.61523ZM5.46141 10.9998C5.46141 7.95367 7.95372 5.46136 10.9999 5.46136C12.1999 5.46136 13.3076 5.83059 14.1999 6.47675L6.4768 14.1998C5.83064 13.3075 5.46141 12.1998 5.46141 10.9998V10.9998ZM10.9997 16.5383C9.79973 16.5383 8.69204 16.1691 7.79973 15.523L15.5228 7.79988C16.169 8.69219 16.5382 9.79988 16.5382 10.9999C16.5382 14.046 14.0459 16.5383 10.9997 16.5383Z" fill="#BA0517"/>
                                </svg>
                            </div>
                            <div class="step-content">
                                <div class="step-title editable" data-field="optional-step-2-title">Enforce Default Activity Sharing for New Users</div>
                                <div class="step-description editable empty" data-field="optional-step-2-description"></div>
                                <button class="add-description-btn" onclick="addStepDescription(this)" title="Add Description">+ Description</button>
                                <button class="remove-description-btn" onclick="removeStepDescription(this)" title="Remove Description">✖ Description</button>
                            </div>
                            <div class="toggle-switch"></div>
                            <button class="remove-step-btn" onclick="removeStep(this)" title="Remove Step">✖</button>
                        </div>
                        
                        <div class="step-item">
                            <div class="step-icon default">
                                <!-- Default state -->
                                <svg class="step-state step-default" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="white"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="#C9C9C9"/>
                                </svg>
                                <!-- Active state -->
                                <svg class="step-state step-active" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="#0176D3"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="white"/>
                                </svg>
                                <!-- Complete state -->
                                <svg class="step-state step-complete" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 17C14.3137 17 17 14.3137 17 11C17 7.68629 14.3137 5 11 5C7.68629 5 5 7.68629 5 11C5 14.3137 7.68629 17 11 17Z" fill="#2E844A"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.93826 13.5387L7.3998 10.9849C7.30749 10.8926 7.30749 10.7387 7.3998 10.6464L7.73826 10.308C7.83057 10.2157 7.98441 10.2157 8.07672 10.308L9.98441 12.231C10.046 12.2926 10.1536 12.2926 10.2152 12.231L13.9536 8.46181C14.046 8.3695 14.1998 8.3695 14.2921 8.46181L14.6306 8.80027C14.7229 8.89258 14.7229 9.04642 14.6306 9.13873L10.2767 13.5387C10.1844 13.6464 10.0306 13.6464 9.93826 13.5387V13.5387Z" fill="white"/>
                                </svg>
                                <!-- Error state -->
                                <svg class="step-state step-error" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10.9999 3.61523C6.93831 3.61523 3.61523 6.93831 3.61523 10.9999C3.61523 15.0614 6.93831 18.3845 10.9999 18.3845C15.0614 18.3845 18.3845 15.0614 18.3845 10.9999C18.3845 6.93831 15.0614 3.61523 10.9999 3.61523ZM5.46141 10.9998C5.46141 7.95367 7.95372 5.46136 10.9999 5.46136C12.1999 5.46136 13.3076 5.83059 14.1999 6.47675L6.4768 14.1998C5.83064 13.3075 5.46141 12.1998 5.46141 10.9998V10.9998ZM10.9997 16.5383C9.79973 16.5383 8.69204 16.1691 7.79973 15.523L15.5228 7.79988C16.169 8.69219 16.5382 9.79988 16.5382 10.9999C16.5382 14.046 14.0459 16.5383 10.9997 16.5383Z" fill="#BA0517"/>
                                </svg>
                            </div>
                            <div class="step-content">
                                <div class="step-title editable" data-field="optional-step-3-title">Customize Your Agent with Topics and Actions</div>
                                <div class="step-description editable empty" data-field="optional-step-3-description"></div>
                                <button class="add-description-btn" onclick="addStepDescription(this)" title="Add Description">+ Description</button>
                                <button class="remove-description-btn" onclick="removeStepDescription(this)" title="Remove Description">✖ Description</button>
                            </div>
                            <a href="#" class="step-action">Go to Setup ↗</a>
                            <button class="remove-step-btn" onclick="removeStep(this)" title="Remove Step">✖</button>
                        </div>
                        
                        <div class="step-item">
                            <div class="step-icon default">
                                <!-- Default state -->
                                <svg class="step-state step-default" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="white"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="#C9C9C9"/>
                                </svg>
                                <!-- Active state -->
                                <svg class="step-state step-active" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="#0176D3"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="white"/>
                                </svg>
                                <!-- Complete state -->
                                <svg class="step-state step-complete" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 17C14.3137 17 17 14.3137 17 11C17 7.68629 14.3137 5 11 5C7.68629 5 5 7.68629 5 11C5 14.3137 7.68629 17 11 17Z" fill="#2E844A"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.93826 13.5387L7.3998 10.9849C7.30749 10.8926 7.30749 10.7387 7.3998 10.6464L7.73826 10.308C7.83057 10.2157 7.98441 10.2157 8.07672 10.308L9.98441 12.231C10.046 12.2926 10.1536 12.2926 10.2152 12.231L13.9536 8.46181C14.046 8.3695 14.1998 8.3695 14.2921 8.46181L14.6306 8.80027C14.7229 8.89258 14.7229 9.04642 14.6306 9.13873L10.2767 13.5387C10.1844 13.6464 10.0306 13.6464 9.93826 13.5387V13.5387Z" fill="white"/>
                                </svg>
                                <!-- Error state -->
                                <svg class="step-state step-error" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10.9999 3.61523C6.93831 3.61523 3.61523 6.93831 3.61523 10.9999C3.61523 15.0614 6.93831 18.3845 10.9999 18.3845C15.0614 18.3845 18.3845 15.0614 18.3845 10.9999C18.3845 6.93831 15.0614 3.61523 10.9999 3.61523ZM5.46141 10.9998C5.46141 7.95367 7.95372 5.46136 10.9999 5.46136C12.1999 5.46136 13.3076 5.83059 14.1999 6.47675L6.4768 14.1998C5.83064 13.3075 5.46141 12.1998 5.46141 10.9998V10.9998ZM10.9997 16.5383C9.79973 16.5383 8.69204 16.1691 7.79973 15.523L15.5228 7.79988C16.169 8.69219 16.5382 9.79988 16.5382 10.9999C16.5382 14.046 14.0459 16.5383 10.9997 16.5383Z" fill="#BA0517"/>
                                </svg>
                            </div>
                            <div class="step-content">
                                <div class="step-title editable" data-field="optional-step-4-title">Select the Insights You Want to Show</div>
                                <div class="step-description editable empty" data-field="optional-step-4-description"></div>
                                <button class="add-description-btn" onclick="addStepDescription(this)" title="Add Description">+ Description</button>
                                <button class="remove-description-btn" onclick="removeStepDescription(this)" title="Remove Description">✖ Description</button>
                            </div>
                            <a href="#" class="step-action">Go to Setup ↗</a>
                            <button class="remove-step-btn" onclick="removeStep(this)" title="Remove Step">✖</button>
                        </div>
                        
                        <!-- Add Step Button -->
                        <button class="add-step-btn" onclick="addStep(this.closest('.config-section'))" title="Add Step">+ Add Step</button>
                        </div>
                    </div>

                    <!-- Add Section Button -->
                    <button class="add-section-btn" onclick="addSection(this)">
                        ➕ Add New Section Here
                    </button>

                    <!-- Purchase Options -->
                    <div class="config-section" data-section-id="purchase">
                        <div class="section-header" onclick="toggleSection(this)">
                            <span class="section-toggle"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M14.6461 5.47668L8.33841 11.8459C8.15379 12.0305 7.8461 12.0305 7.66149 11.8459L1.35379 5.47668C1.16918 5.29207 1.16918 4.98438 1.35379 4.79976L2.03072 4.12284C2.21533 3.93822 2.52302 3.93822 2.70764 4.12284L7.66149 9.13822C7.8461 9.32284 8.15379 9.32284 8.33841 9.13822L13.2923 4.15361C13.4769 3.96899 13.7846 3.96899 13.9692 4.15361L14.6461 4.83053C14.7999 5.01514 14.7999 5.29207 14.6461 5.47668V5.47668Z" fill="#747474"/>
</svg></span>
                            <div class="section-title-area">
                                <h2 class="section-title editable" data-field="section-purchase-title">Purchase Options</h2>
                            </div>
                            <button class="delete-section-btn" onclick="deleteSection(this)" title="Delete Section">✖</button>
                            <button class="drag-handle" draggable="true" title="Drag to reorder">≡</button>
                        </div>
                    <div class="section-content">
                        <!-- Add Step Button -->
                        <button class="add-step-btn" onclick="addStep(this.closest('.config-section'))" title="Add Step">+ Add Step</button>
                        </div>
                    </div>

                    <!-- Add Section Button (bottom) -->
                    <button class="add-section-btn" onclick="addSection(this)">
                        ➕ Add New Section Below
                    </button>
                </div>
            </div>

            <!-- Right Sidebar -->
            <div class="content-secondary">
                <!-- Monitor Feature User -->
                <div class="sidebar-card">
                    <h3 class="sidebar-title">
                        Monitor Feature User
                        <div class="info-icon">i</div>
                    </h3>
                    
                    <div class="progress-item">
                        <div class="progress-header">
                            <span class="progress-label">PSL Set Name</span>
                            <span class="progress-value">600 total</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill progress-assigned" style="width: 30%"></div>
                        </div>
                        <div style="font-size: 10px; color: #9f2a9f; margin-top: 2px;">Assigned 300</div>
                    </div>
                    
                    <div class="progress-item">
                        <div class="progress-header">
                            <span class="progress-label">PSL Set Name</span>
                            <span class="progress-value">600 total</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill progress-active" style="width: 50%"></div>
                        </div>
                        <div style="font-size: 10px; color: #4bca81; margin-top: 2px;">Active 300</div>
                    </div>
                    
                    <div class="progress-item">
                        <div class="progress-header">
                            <span class="progress-label">PSL Set Name</span>
                            <span class="progress-value">600 total</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill progress-assigned" style="width: 30%"></div>
                        </div>
                        <div style="font-size: 10px; color: #9f2a9f; margin-top: 2px;">Assigned 300</div>
                    </div>
                    
                    <a href="#" class="show-all-btn">Show All ▼</a>
                </div>

                <!-- Get to Know Your Feature -->
                <div class="sidebar-card">
                    <h3 class="sidebar-title">Get to Know Your {{ metadata.name | default("Feature Name") }}</h3>
                    
                    <div class="feature-preview">
                        <div class="preview-image">Feature Preview</div>
                        <a href="#" class="see-how-works">See How It Works 📺</a>
                    </div>
                    
                    <div class="feature-sets">
                        <a href="#" class="feature-set-tag">Automate & Close Setting</a>
                        <a href="#" class="feature-set-tag">Boost Sales Productivity with AI</a>
                    </div>
                </div>

                <!-- See the Latest Updates -->
                <div class="sidebar-card">
                    <h3 class="sidebar-title">See the Latest Updates</h3>
                    <div class="learning-item">
                        <a href="#">New in Einstein Conversation Insights</a>
                    </div>
                </div>

                <!-- Learn on Trailhead -->
                <div class="sidebar-card">
                    <h3 class="sidebar-title">Learn on Trailhead</h3>
                    <div class="learning-section">
                        <div class="learning-item">
                            <a href="#">Meet Einstein Conversation Insights for Sales 🏆</a>
                        </div>
                        <div class="learning-item">
                            <a href="#">Find Out How Einstein Einstein Conversation Insights...</a>
                        </div>
                        <div class="learning-item">
                            <a href="#">User Management</a>
                        </div>
                    </div>
                </div>

                <!-- Explore Salesforce Help -->
                <div class="sidebar-card">
                    <h3 class="sidebar-title">Explore Salesforce Help</h3>
                    <div class="learning-item">
                        <a href="#">Set Up Einstein Conversation Insights for Sales</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Mode Indicators -->
    <div id="edit-mode-indicator" class="edit-mode-indicator">
        📝 Edit Mode Active - Click on highlighted content to edit
    </div>
    
    <div id="save-indicator" class="save-indicator">
        💾 Changes Saved
    </div>

    <script>
        let editMode = false;
        let editData = {};

        // Initialize edit data with current content
        function initializeEditData() {
            document.querySelectorAll('.editable').forEach(element => {
                const field = element.getAttribute('data-field');
                editData[field] = element.textContent.trim();
            });
        }

        // Section management functions
        let sectionCounter = Date.now(); // Use timestamp for unique IDs

        function addSection(button) {
            const newSectionId = 'section-' + (++sectionCounter);
            const newSectionHTML = `
                <!-- Add Section Button -->
                <button class="add-section-btn editing" onclick="addSection(this)">
                    ➕ Add New Section Here
                </button>

                <!-- New Section -->
                <div class="config-section" data-section-id="${newSectionId}">
                    <div class="section-header" onclick="toggleSection(this)">
                        <span class="section-toggle"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M14.6461 5.47668L8.33841 11.8459C8.15379 12.0305 7.8461 12.0305 7.66149 11.8459L1.35379 5.47668C1.16918 5.29207 1.16918 4.98438 1.35379 4.79976L2.03072 4.12284C2.21533 3.93822 2.52302 3.93822 2.70764 4.12284L7.66149 9.13822C7.8461 9.32284 8.15379 9.32284 8.33841 9.13822L13.2923 4.15361C13.4769 3.96899 13.7846 3.96899 13.9692 4.15361L14.6461 4.83053C14.7999 5.01514 14.7999 5.29207 14.6461 5.47668V5.47668Z" fill="#747474"/>
</svg></span>
                        <div class="section-title-area">
                            <h2 class="section-title editable editing" data-field="section-${newSectionId}-title">New Section Title</h2>
                            <p class="section-description editable editing" data-field="section-${newSectionId}-description">Describe what this section helps users accomplish.</p>
                        </div>
                        <button class="delete-section-btn editing" onclick="deleteSection(this)" title="Delete Section">✖</button>
                        <button class="drag-handle editing" draggable="true" title="Drag to reorder">≡</button>
                    </div>
                    <div class="section-content">
                        <div class="step-item">
                            <div class="step-icon default">
                                <!-- Default state -->
                                <svg class="step-state step-default" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="white"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="#C9C9C9"/>
                                </svg>
                                <!-- Active state -->
                                <svg class="step-state step-active" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="#0176D3"/>
                                    <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="white"/>
                                </svg>
                                <!-- Complete state -->
                                <svg class="step-state step-complete" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path d="M11 17C14.3137 17 17 14.3137 17 11C17 7.68629 14.3137 5 11 5C7.68629 5 5 7.68629 5 11C5 14.3137 7.68629 17 11 17Z" fill="#2E844A"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.93826 13.5387L7.3998 10.9849C7.30749 10.8926 7.30749 10.7387 7.3998 10.6464L7.73826 10.308C7.83057 10.2157 7.98441 10.2157 8.07672 10.308L9.98441 12.231C10.046 12.2926 10.1536 12.2926 10.2152 12.231L13.9536 8.46181C14.046 8.3695 14.1998 8.3695 14.2921 8.46181L14.6306 8.80027C14.7229 8.89258 14.7229 9.04642 14.6306 9.13873L10.2767 13.5387C10.1844 13.6464 10.0306 13.6464 9.93826 13.5387V13.5387Z" fill="white"/>
                                </svg>
                                <!-- Error state -->
                                <svg class="step-state step-error" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10.9999 3.61523C6.93831 3.61523 3.61523 6.93831 3.61523 10.9999C3.61523 15.0614 6.93831 18.3845 10.9999 18.3845C15.0614 18.3845 18.3845 15.0614 18.3845 10.9999C18.3845 6.93831 15.0614 3.61523 10.9999 3.61523ZM5.46141 10.9998C5.46141 7.95367 7.95372 5.46136 10.9999 5.46136C12.1999 5.46136 13.3076 5.83059 14.1999 6.47675L6.4768 14.1998C5.83064 13.3075 5.46141 12.1998 5.46141 10.9998V10.9998ZM10.9997 16.5383C9.79973 16.5383 8.69204 16.1691 7.79973 15.523L15.5228 7.79988C16.169 8.69219 16.5382 9.79988 16.5382 10.9999C16.5382 14.046 14.0459 16.5383 10.9997 16.5383Z" fill="#BA0517"/>
                                </svg>
                            </div>
                            <div class="step-content">
                                <div class="step-title editable editing" data-field="step-${newSectionId}-1-title">New Step Title</div>
                                <div class="step-description editable empty" data-field="step-${newSectionId}-1-description"></div>
                                <button class="add-description-btn" onclick="addStepDescription(this)" title="Add Description">+ Description</button>
                                <button class="remove-description-btn" onclick="removeStepDescription(this)" title="Remove Description">✖ Description</button>
                            </div>
                            <a href="#" class="step-action">Action ↗</a>
                        </div>
                    </div>
                </div>
            `;

            // Insert the new section after the button
            button.insertAdjacentHTML('afterend', newSectionHTML);

            // Initialize edit data for new fields
            document.querySelectorAll(`.editable[data-field^="section-${newSectionId}"]`).forEach(element => {
                const field = element.getAttribute('data-field');
                editData[field] = element.textContent.trim();
                if (editMode) {
                    makeElementEditable(element);
                }
            });

            // Setup drag and drop for the new section
            setupDragAndDrop();

            // Show save indicator
            showSaveIndicator();
        }

        function deleteSection(button) {
            if (confirm('Are you sure you want to delete this section?')) {
                const section = button.closest('.config-section');
                const sectionId = section.getAttribute('data-section-id');
                
                // Remove from edit data
                Object.keys(editData).forEach(key => {
                    if (key.includes(sectionId)) {
                        delete editData[key];
                    }
                });

                // Remove the section and the preceding add button
                const prevAddButton = section.previousElementSibling;
                if (prevAddButton && prevAddButton.classList.contains('add-section-btn')) {
                    prevAddButton.remove();
                }
                section.remove();

                // Show save indicator
                showSaveIndicator();
            }
        }

        // Drag and drop functionality
        function setupDragAndDrop() {
            const container = document.getElementById('sections-container');
            let draggedElement = null;

            // Clear any existing drag handlers to prevent duplicates
            document.querySelectorAll('.drag-handle').forEach(handle => {
                // Remove existing event listeners by cloning
                const newHandle = handle.cloneNode(true);
                handle.parentNode.replaceChild(newHandle, handle);
            });

            document.querySelectorAll('.drag-handle').forEach(handle => {
                handle.addEventListener('dragstart', function(e) {
                    draggedElement = this.closest('.config-section');
                    draggedElement.classList.add('dragging');
                    e.dataTransfer.effectAllowed = 'move';
                });

                handle.addEventListener('dragend', function(e) {
                    if (draggedElement) {
                        draggedElement.classList.remove('dragging');
                        draggedElement = null;
                    }
                    // Remove drag-over class from all sections
                    document.querySelectorAll('.config-section').forEach(section => {
                        section.classList.remove('drag-over');
                    });
                });
            });

            document.querySelectorAll('.config-section').forEach(section => {
                section.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    if (draggedElement && draggedElement !== this) {
                        this.classList.add('drag-over');
                    }
                });

                section.addEventListener('dragleave', function(e) {
                    this.classList.remove('drag-over');
                });

                section.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('drag-over');
                    
                    if (draggedElement && draggedElement !== this) {
                        // Get the add button before dragged element
                        const draggedAddButton = draggedElement.previousElementSibling;
                        
                        // Insert dragged element and its add button before this section
                        this.parentNode.insertBefore(draggedAddButton, this);
                        this.parentNode.insertBefore(draggedElement, this);
                        
                        // Show save indicator
                        showSaveIndicator();
                        
                        // Save the new order
                        saveToLocalStorage();
                    }
                });
            });
        }

        // Toggle edit mode
        function toggleEditMode() {
            editMode = !editMode;
            const toggleBtn = document.getElementById('edit-toggle');
            const indicator = document.getElementById('edit-mode-indicator');
            
            if (editMode) {
                // Enter edit mode
                document.body.classList.add('edit-mode');
                toggleBtn.textContent = '💾 Save & Exit';
                toggleBtn.classList.add('editing');
                indicator.classList.add('show');
                
                // Make elements editable
                document.querySelectorAll('.editable').forEach(element => {
                    element.classList.add('editing');
                    makeElementEditable(element);
                });

                // Show section controls
                document.querySelectorAll('.add-section-btn').forEach(btn => {
                    btn.classList.add('editing');
                });
                document.querySelectorAll('.drag-handle').forEach(handle => {
                    handle.classList.add('editing');
                });
                document.querySelectorAll('.delete-section-btn').forEach(btn => {
                    btn.classList.add('editing');
                });
                document.querySelectorAll('.add-step-btn').forEach(btn => {
                    btn.classList.add('editing');
                });
                document.querySelectorAll('.remove-step-btn').forEach(btn => {
                    btn.classList.add('editing');
                });
                document.querySelectorAll('.add-description-btn').forEach(btn => {
                    btn.classList.add('editing');
                });
                document.querySelectorAll('.remove-description-btn').forEach(btn => {
                    btn.classList.add('editing');
                });
                
                // Re-setup drag and drop in edit mode
                setupDragAndDrop();
                
                // Update header state (force full mode for editing)
                if (typeof updateHeaderState === 'function') {
                    updateHeaderState();
                }
            } else {
                // Exit edit mode
                document.body.classList.remove('edit-mode');
                toggleBtn.textContent = '✏️ Edit Mode';
                toggleBtn.classList.remove('editing');
                indicator.classList.remove('show');
                
                // Save and make elements read-only
                document.querySelectorAll('.editable').forEach(element => {
                    element.classList.remove('editing');
                    makeElementReadOnly(element);
                });

                // Hide section controls
                document.querySelectorAll('.add-section-btn').forEach(btn => {
                    btn.classList.remove('editing');
                });
                document.querySelectorAll('.drag-handle').forEach(handle => {
                    handle.classList.remove('editing');
                });
                document.querySelectorAll('.delete-section-btn').forEach(btn => {
                    btn.classList.remove('editing');
                });
                document.querySelectorAll('.add-step-btn').forEach(btn => {
                    btn.classList.remove('editing');
                });
                document.querySelectorAll('.remove-step-btn').forEach(btn => {
                    btn.classList.remove('editing');
                });
                document.querySelectorAll('.add-description-btn').forEach(btn => {
                    btn.classList.remove('editing');
                });
                document.querySelectorAll('.remove-description-btn').forEach(btn => {
                    btn.classList.remove('editing');
                });
                
                // Show save confirmation
                showSaveIndicator();
                
                // Save to localStorage
                saveToLocalStorage();
                
                // Update header state (resume scroll behavior)
                if (typeof updateHeaderState === 'function') {
                    updateHeaderState();
                }
            }
        }

        function makeElementEditable(element) {
            const field = element.getAttribute('data-field');
            let currentText = element.textContent.trim();
            
            // For empty step descriptions, provide placeholder text
            if (element.classList.contains('step-description') && (!currentText || element.classList.contains('empty'))) {
                currentText = 'Add your description here...';
                element.classList.remove('empty');
            }
            
            // Create appropriate input element
            let inputElement;
            if (element.tagName === 'H1' || element.tagName === 'H2') {
                inputElement = document.createElement('input');
                inputElement.type = 'text';
                inputElement.value = currentText;
            } else {
                inputElement = document.createElement('textarea');
                inputElement.value = currentText;
                // Auto-resize textarea
                inputElement.addEventListener('input', autoResize);
            }
            
            // Apply styles and event handlers
            inputElement.addEventListener('blur', function() {
                editData[field] = this.value.trim();
            });
            
            inputElement.addEventListener('input', function() {
                editData[field] = this.value.trim();
            });
            
            // Replace content with input
            element.innerHTML = '';
            element.appendChild(inputElement);
            
            // Auto-resize for textareas
            if (inputElement.tagName === 'TEXTAREA') {
                autoResize.call(inputElement);
            }
        }

        function makeElementReadOnly(element) {
            const field = element.getAttribute('data-field');
            let savedValue = editData[field] || element.textContent.trim();
            
            // For step descriptions, if the value is empty or just placeholder text, make it empty
            if (element.classList.contains('step-description')) {
                if (!savedValue || savedValue === 'Add your description here...') {
                    savedValue = '';
                    element.classList.add('empty');
                    element.closest('.step-content').classList.remove('has-description');
                } else {
                    element.classList.remove('empty');
                    element.closest('.step-content').classList.add('has-description');
                }
            }
            
            element.innerHTML = savedValue;
        }

        function autoResize() {
            this.style.height = 'auto';
            const minHeight = 40; // Minimum height in pixels
            const newHeight = Math.max(this.scrollHeight, minHeight);
            this.style.height = newHeight + 'px';
        }

        function showSaveIndicator() {
            const indicator = document.getElementById('save-indicator');
            indicator.classList.add('show');
            setTimeout(() => {
                indicator.classList.remove('show');
            }, 2000);
        }

        function saveToLocalStorage() {
            // Save section order
            const sectionOrder = [];
            document.querySelectorAll('.config-section').forEach(section => {
                sectionOrder.push(section.getAttribute('data-section-id'));
            });

            const pageData = {
                url: window.location.href,
                timestamp: new Date().toISOString(),
                data: editData,
                sectionOrder: sectionOrder,
                customSections: getCustomSections()
            };
            localStorage.setItem('pageEdit_' + window.location.pathname, JSON.stringify(pageData));
            console.log('Page edits saved to localStorage:', pageData);
        }

        function getCustomSections() {
            const customSections = {};
            document.querySelectorAll('.config-section').forEach(section => {
                const sectionId = section.getAttribute('data-section-id');
                if (sectionId.startsWith('section-')) {
                    // This is a custom section
                    customSections[sectionId] = {
                        html: section.outerHTML,
                        addButtonHtml: section.previousElementSibling.outerHTML
                    };
                }
            });
            return customSections;
        }

        function loadFromLocalStorage() {
            const saved = localStorage.getItem('pageEdit_' + window.location.pathname);
            if (saved) {
                const pageData = JSON.parse(saved);
                editData = { ...editData, ...pageData.data };
                
                // Restore screenshot if saved
                if (editData.screenshotDataUrl) {
                    updateScreenshotPreview(editData.screenshotDataUrl);
                }
                
                // Restore custom sections first
                if (pageData.customSections) {
                    Object.entries(pageData.customSections).forEach(([sectionId, sectionData]) => {
                        // Add the custom section if it doesn't exist
                        if (!document.querySelector(`[data-section-id="${sectionId}"]`)) {
                            const container = document.getElementById('sections-container');
                            const lastAddButton = container.querySelector('.add-section-btn:last-child');
                            if (lastAddButton) {
                                lastAddButton.insertAdjacentHTML('beforebegin', sectionData.addButtonHtml + sectionData.html);
                            }
                        }
                    });
                }

                // Restore section order
                if (pageData.sectionOrder) {
                    const container = document.getElementById('sections-container');
                    const sectionsMap = {};
                    const addButtonsMap = {};
                    
                    // Collect all sections and their add buttons
                    document.querySelectorAll('.config-section').forEach(section => {
                        const sectionId = section.getAttribute('data-section-id');
                        sectionsMap[sectionId] = section;
                        const prevButton = section.previousElementSibling;
                        if (prevButton && prevButton.classList.contains('add-section-btn')) {
                            addButtonsMap[sectionId] = prevButton;
                        }
                    });

                    // Clear container (keep first add button)
                    const firstAddButton = container.querySelector('.add-section-btn');
                    while (container.children.length > 1) {
                        container.removeChild(container.lastChild);
                    }

                    // Re-add sections in saved order
                    pageData.sectionOrder.forEach(sectionId => {
                        if (sectionsMap[sectionId]) {
                            if (addButtonsMap[sectionId]) {
                                container.appendChild(addButtonsMap[sectionId]);
                            }
                            container.appendChild(sectionsMap[sectionId]);
                        }
                    });

                    // Add final add button
                    const finalAddButton = document.createElement('button');
                    finalAddButton.className = 'add-section-btn';
                    finalAddButton.onclick = function() { addSection(this); };
                    finalAddButton.innerHTML = '➕ Add New Section Below';
                    container.appendChild(finalAddButton);
                }
                
                // Apply saved data to elements
                document.querySelectorAll('.editable').forEach(element => {
                    const field = element.getAttribute('data-field');
                    if (editData[field]) {
                        element.textContent = editData[field];
                    }
                });

                // Setup drag and drop again after restoring sections
                setupDragAndDrop();
            }
        }

        function toggleSection(header) {
            const section = header.closest('.config-section');
            const content = header.nextElementSibling;
            
            if (section && content) {
                if (section.classList.contains('collapsed')) {
                    section.classList.remove('collapsed');
                    content.style.display = 'block';
                } else {
                    section.classList.add('collapsed');
                    content.style.display = 'none';
                }
            }
        }

        function toggleFeatureState(button) {
            // Prevent event bubbling to avoid triggering section collapse
            event.stopPropagation();
            
            // Toggle the "on" class
            button.classList.toggle('on');
            
            const isOn = button.classList.contains('on');
            console.log('Feature toggle state:', isOn ? 'ON' : 'OFF');
            
            // If turning on, animate the steps in the Turn On section
            if (isOn) {
                animateTurnOnSteps();
            } else {
                // Reset all steps to default state
                resetAllStepsToDefault();
            }
        }

        function animateTurnOnSteps() {
            // Find the Turn On section and get all step icons
            const turnOnSection = document.querySelector('[data-section-id="turn-on"]');
            if (!turnOnSection) return;
            
            const stepIcons = turnOnSection.querySelectorAll('.step-icon');
            const totalSteps = stepIcons.length;
            
            // Reset all steps to default first
            stepIcons.forEach(icon => {
                icon.className = 'step-icon default';
            });
            
            // Animate each step with randomized timing
            stepIcons.forEach((icon, index) => {
                // Generate random delays and durations
                const startDelay = Math.random() * 1000; // 0-1 second delay before starting
                const activeStateDuration = 800 + Math.random() * 1200; // 0.8-2 seconds in active state
                const transitionDuration = 300; // 300ms for each transition
                
                // Determine if this step should go to error state (only if more than 5 steps)
                const shouldError = totalSteps > 5 && Math.random() < 0.2 && index !== 0; // 20% chance, never first step
                
                setTimeout(() => {
                    // Transition to active state
                    icon.className = 'step-icon active';
                    
                    setTimeout(() => {
                        // Transition to final state (complete or error)
                        icon.className = shouldError ? 'step-icon error' : 'step-icon complete';
                    }, activeStateDuration);
                    
                }, startDelay);
            });
        }

        function resetAllStepsToDefault() {
            // Reset all step icons back to default state
            document.querySelectorAll('.step-icon').forEach(icon => {
                icon.className = 'step-icon default';
            });
        }

        function addStep(section) {
            if (!document.body.classList.contains('edit-mode')) return;
            
            const stepContainer = section.querySelector('.section-content');
            const existingSteps = stepContainer.querySelectorAll('.step-item');
            const stepNumber = existingSteps.length + 1;
            
            const newStepHTML = `
                <div class="step-item">
                    <div class="step-icon default">
                        <!-- Default state -->
                        <svg class="step-state step-default" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="white"/>
                            <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="#C9C9C9"/>
                        </svg>
                        <!-- Active state -->
                        <svg class="step-state step-active" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                            <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" fill="#0176D3"/>
                            <path d="M11 15C13.2091 15 15 13.2091 15 11C15 8.79086 13.2091 7 11 7C8.79086 7 7 8.79086 7 11C7 13.2091 8.79086 15 11 15Z" fill="white"/>
                        </svg>
                        <!-- Complete state -->
                        <svg class="step-state step-complete" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                            <path d="M11 17C14.3137 17 17 14.3137 17 11C17 7.68629 14.3137 5 11 5C7.68629 5 5 7.68629 5 11C5 14.3137 7.68629 17 11 17Z" fill="#2E844A"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M9.93826 13.5387L7.3998 10.9849C7.30749 10.8926 7.30749 10.7387 7.3998 10.6464L7.73826 10.308C7.83057 10.2157 7.98441 10.2157 8.07672 10.308L9.98441 12.231C10.046 12.2926 10.1536 12.2926 10.2152 12.231L13.9536 8.46181C14.046 8.3695 14.1998 8.3695 14.2921 8.46181L14.6306 8.80027C14.7229 8.89258 14.7229 9.04642 14.6306 9.13873L10.2767 13.5387C10.1844 13.6464 10.0306 13.6464 9.93826 13.5387V13.5387Z" fill="white"/>
                        </svg>
                        <!-- Error state -->
                        <svg class="step-state step-error" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z" fill="white"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M10.9999 3.61523C6.93831 3.61523 3.61523 6.93831 3.61523 10.9999C3.61523 15.0614 6.93831 18.3845 10.9999 18.3845C15.0614 18.3845 18.3845 15.0614 18.3845 10.9999C18.3845 6.93831 15.0614 3.61523 10.9999 3.61523ZM5.46141 10.9998C5.46141 7.95367 7.95372 5.46136 10.9999 5.46136C12.1999 5.46136 13.3076 5.83059 14.1999 6.47675L6.4768 14.1998C5.83064 13.3075 5.46141 12.1998 5.46141 10.9998V10.9998ZM10.9997 16.5383C9.79973 16.5383 8.69204 16.1691 7.79973 15.523L15.5228 7.79988C16.169 8.69219 16.5382 9.79988 16.5382 10.9999C16.5382 14.046 14.0459 16.5383 10.9997 16.5383Z" fill="#BA0517"/>
                        </svg>
                    </div>
                    <div class="step-content">
                        <div class="step-title editable editing" data-field="step-${stepNumber}-title">New Step ${stepNumber}</div>
                        <div class="step-description editable empty" data-field="step-${stepNumber}-description"></div>
                        <button class="add-description-btn" onclick="addStepDescription(this)" title="Add Description">+ Description</button>
                        <button class="remove-description-btn" onclick="removeStepDescription(this)" title="Remove Description">✖ Description</button>
                    </div>
                    <button class="remove-step-btn editing" onclick="removeStep(this)" title="Remove Step">✖</button>
                </div>`;
            
            stepContainer.insertAdjacentHTML('beforeend', newStepHTML);
        }

        function removeStep(button) {
            const stepItem = button.closest('.step-item');
            const section = stepItem.closest('.config-section');
            const isTurnOnSection = section.dataset.sectionId === 'turn-on';
            const remainingSteps = section.querySelectorAll('.step-item').length;
            
            // Prevent removing the last step from Turn On section
            if (isTurnOnSection && remainingSteps <= 1) {
                alert('Turn On section must have at least one step.');
                return;
            }
            
            stepItem.remove();
        }

        function addStepDescription(button) {
            if (!document.body.classList.contains('edit-mode')) return;
            
            const stepContent = button.closest('.step-content');
            const description = stepContent.querySelector('.step-description');
            
            if (description) {
                // Remove empty class first to make it visible
                description.classList.remove('empty');
                description.classList.add('editing');
                
                // Populate the existing description element
                description.textContent = 'Add your description here...';
                
                // Update step-content class to show it has description
                stepContent.classList.add('has-description');
                
                // Make the description editable immediately
                makeElementEditable(description);
            }
        }

        function removeStepDescription(button) {
            if (!document.body.classList.contains('edit-mode')) return;
            
            const stepContent = button.closest('.step-content');
            const description = stepContent.querySelector('.step-description');
            
            if (description) {
                // Empty the description content and hide it
                description.innerHTML = '';
                description.classList.add('empty');
                description.classList.remove('editing');
                stepContent.classList.remove('has-description');
                
                // Clear from editData
                const field = description.getAttribute('data-field');
                if (field) {
                    editData[field] = '';
                }
            }
        }

        // Initialize the page
        // Screenshot upload handling
        function handleScreenshotUpload() {
            const input = document.getElementById('screenshot-upload');
            input.addEventListener('change', function(event) {
                const file = event.target.files[0];
                if (!file) return;
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    const dataUrl = e.target.result;
                    
                    // Update the screenshot preview
                    updateScreenshotPreview(dataUrl);
                    
                    // Save to editData and localStorage
                    editData.screenshotDataUrl = dataUrl;
                    saveToLocalStorage();
                };
                reader.readAsDataURL(file);
            });
        }

        function updateScreenshotPreview(dataUrl) {
            const preview = document.getElementById('screenshot-preview');
            
            if (dataUrl) {
                // Replace with img element if it was placeholder
                if (preview.classList.contains('preview-placeholder')) {
                    const img = document.createElement('img');
                    img.id = 'screenshot-preview';
                    img.src = dataUrl;
                    img.alt = 'Feature Preview';
                    preview.parentNode.replaceChild(img, preview);
                } else {
                    // Update existing img src
                    preview.src = dataUrl;
                }
            } else {
                // Replace with placeholder if no image
                if (!preview.classList.contains('preview-placeholder')) {
                    const placeholder = document.createElement('div');
                    placeholder.id = 'screenshot-preview';
                    placeholder.className = 'preview-placeholder';
                    placeholder.textContent = 'Feature Preview';
                    preview.parentNode.replaceChild(placeholder, preview);
                }
            }
        }

        // Download HTML functionality
        function downloadHTML() {
            try {
                // Create a clean copy of the page
                const htmlDoc = document.documentElement.cloneNode(true);
                
                if (!htmlDoc) {
                    console.error('Failed to clone document');
                    return;
                }
                
                // Apply current edit data to the clean copy
                const editableElements = htmlDoc.querySelectorAll('.editable');
                editableElements.forEach(element => {
                    if (element && element.getAttribute) {
                        const field = element.getAttribute('data-field');
                        if (editData[field]) {
                            element.textContent = editData[field];
                        }
                        // Remove editing classes and data attributes
                        if (element.classList) {
                            element.classList.remove('editable', 'editing');
                        }
                        if (element.removeAttribute) {
                            element.removeAttribute('data-field');
                        }
                    }
                });

                // Update screenshot if present
                if (editData.screenshotDataUrl) {
                    const screenshotElement = htmlDoc.querySelector('#screenshot-preview');
                    if (screenshotElement && screenshotElement.classList) {
                        if (screenshotElement.classList.contains('preview-placeholder')) {
                            // Replace placeholder with img
                            const img = document.createElement('img');
                            img.src = editData.screenshotDataUrl;
                            img.alt = 'Feature Preview';
                            img.id = 'screenshot-preview';
                            if (screenshotElement.parentNode) {
                                screenshotElement.parentNode.replaceChild(img, screenshotElement);
                            }
                        } else {
                            screenshotElement.src = editData.screenshotDataUrl;
                        }
                    }
                }
                
                // Remove edit mode controls but keep interactive functionality
                const elementsToRemove = [
                    '.edit-controls',
                    '.screenshot-edit-overlay',
                    '#screenshot-upload',
                    '.add-section-btn',
                    '.delete-section-btn',
                    '.drag-handle',
                    '.add-step-btn',
                    '.remove-step-btn',
                    '.add-description-btn',
                    '.remove-description-btn',
                    '#edit-mode-indicator'
                ];
                
                elementsToRemove.forEach(selector => {
                    try {
                        const elements = htmlDoc.querySelectorAll(selector);
                        elements.forEach(el => {
                            if (el && el.remove) {
                                el.remove();
                            }
                        });
                    } catch (e) {
                        console.warn('Could not remove elements for selector:', selector, e);
                    }
                });
                
                // Remove edit mode classes
                if (htmlDoc.body && htmlDoc.body.classList) {
                    htmlDoc.body.classList.remove('edit-mode');
                }
                
                // Create minimal clean script with only accordion functionality
                const scriptTags = htmlDoc.querySelectorAll('script');
                scriptTags.forEach(script => {
                    if (script.textContent && script.textContent.includes('function')) {
                        // Replace the entire script with just the essential interactive functionality
                        const cleanScript = `
        // Interactive functionality for accordions
        function toggleSection(header) {
            const section = header.closest('.config-section');
            const content = header.nextElementSibling;
            
            if (section && content) {
                if (section.classList.contains('collapsed')) {
                    section.classList.remove('collapsed');
                    content.style.display = 'block';
                } else {
                    section.classList.add('collapsed');
                    content.style.display = 'none';
                }
            }
        }

        function toggleFeatureState(button) {
            // Prevent event bubbling to avoid triggering section collapse
            event.stopPropagation();
            
            // Toggle the "on" class
            button.classList.toggle('on');
            
            const isOn = button.classList.contains('on');
            console.log('Feature toggle state:', isOn ? 'ON' : 'OFF');
            
            // If turning on, animate the steps in the Turn On section
            if (isOn) {
                animateTurnOnSteps();
            } else {
                // Reset all steps to default state
                resetAllStepsToDefault();
            }
        }

        function animateTurnOnSteps() {
            // Find the Turn On section and get all step icons
            const turnOnSection = document.querySelector('[data-section-id="turn-on"]');
            if (!turnOnSection) return;
            
            const stepIcons = turnOnSection.querySelectorAll('.step-icon');
            const totalSteps = stepIcons.length;
            
            // Reset all steps to default first
            stepIcons.forEach(icon => {
                icon.className = 'step-icon default';
            });
            
            // Animate each step with randomized timing
            stepIcons.forEach((icon, index) => {
                // Generate random delays and durations
                const startDelay = Math.random() * 1000; // 0-1 second delay before starting
                const activeStateDuration = 800 + Math.random() * 1200; // 0.8-2 seconds in active state
                
                // Determine if this step should go to error state (only if more than 5 steps)
                const shouldError = totalSteps > 5 && Math.random() < 0.2 && index !== 0; // 20% chance, never first step
                
                setTimeout(() => {
                    // Transition to active state
                    icon.className = 'step-icon active';
                    
                    setTimeout(() => {
                        // Transition to final state (complete or error)
                        icon.className = shouldError ? 'step-icon error' : 'step-icon complete';
                    }, activeStateDuration);
                    
                }, startDelay);
            });
        }

        function resetAllStepsToDefault() {
            // Reset all step icons back to default state
            document.querySelectorAll('.step-icon').forEach(icon => {
                icon.className = 'step-icon default';
            });
        }
        
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Salesforce Go Runtime Builder page loaded - Interactive version');
        });`;
                        
                        script.textContent = cleanScript;
                    }
                });
                
                // Remove edit-mode specific onclick attributes
                const elementsWithEditOnclick = htmlDoc.querySelectorAll('[onclick*="deleteSection"], [onclick*="addSection"]');
                elementsWithEditOnclick.forEach(el => {
                    if (el.getAttribute('onclick')) {
                        if (el.getAttribute('onclick').includes('deleteSection') || 
                            el.getAttribute('onclick').includes('addSection')) {
                            el.removeAttribute('onclick');
                        }
                    }
                });
                
                // Inline CSS for standalone functionality
                const cssLinkElements = htmlDoc.querySelectorAll('link[rel="stylesheet"]');
                cssLinkElements.forEach(link => {
                    if (link.href && link.href.includes('slds2-temp.css')) {
                        // Remove the link element since we can't load external CSS in downloaded file
                        link.remove();
                    }
                });
                
                // Add a note about styling in the head
                const head = htmlDoc.querySelector('head');
                if (head) {
                    const styleNote = document.createElement('style');
                    styleNote.textContent = `
                        /* Note: This is a standalone HTML file generated from Salesforce Go Runtime Builder */
                        /* All custom styles are embedded inline in the original template */
                        /* The SLDS2 styles are included via inline CSS in the template */
                    `;
                    head.appendChild(styleNote);
                }
                
                // Create final HTML content
                const htmlContent = '<!DOCTYPE html>' + htmlDoc.outerHTML;
            
                // Create download
                const blob = new Blob([htmlContent], { type: 'text/html;charset=utf-8' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = (editData.title || 'feature-page') + '.html';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            } catch (error) {
                console.error('Download failed:', error);
                alert('Download failed. Please try again.');
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            initializeEditData();
            loadFromLocalStorage();
            setupDragAndDrop();
            handleScreenshotUpload();
            
            // Add event listener to edit toggle button
            const editToggle = document.getElementById('edit-toggle');
            if (editToggle) {
                editToggle.addEventListener('click', toggleEditMode);
            }
            
            // Add keyboard shortcut (Ctrl/Cmd + E)
            document.addEventListener('keydown', function(e) {
                if ((e.ctrlKey || e.metaKey) && e.key === 'e') {
                    e.preventDefault();
                    toggleEditMode();
                }
            });
            
            // Sticky header scroll handling
            setupFixedHeader();
            
            // Setup ownership toggle
            setTimeout(function() {
                console.log('🔄 Setting up ownership toggle...');
                const ownershipToggle = document.getElementById('ownership-toggle');
                
                if (ownershipToggle) {
                    console.log('✅ Found ownership toggle button');
                    ownershipToggle.addEventListener('click', function(e) {
                        e.preventDefault();
                        console.log('🖱️ Ownership toggle clicked!');
                        toggleOwnershipState();
                    });
                } else {
                    console.error('❌ Ownership toggle button not found');
                }
            }, 100); // Small delay to ensure all elements are ready
        });

        // Sticky header scroll functionality
        function setupFixedHeader() {
            const header = document.querySelector('.unified-header');
            const mainContent = document.querySelector('.main-content');
            
            if (!header) {
                console.log('Header not found');
                return;
            }
            
            if (!mainContent) {
                console.log('Main content container not found');
                return;
            }
            
            let lastChangeTime = 0;
            const debounceDelay = 100; // Prevent rapid state changes
            
            function updateHeaderState() {
                const now = Date.now();
                const scrollTop = mainContent.scrollTop;
                const windowScrollTop = window.pageYOffset || document.documentElement.scrollTop;
                const isCurrentlyCompact = header.classList.contains('scrolled');
                const headerHeight = header.offsetHeight;
                const mainContentHeight = mainContent.scrollHeight;
                const timeSinceLastChange = now - lastChangeTime;
                
                console.log(`🔍 DEBUG SCROLL STATE:
                  • Scroll: mainContent=${scrollTop}px, window=${windowScrollTop}px  
                  • Header: ${isCurrentlyCompact ? 'COMPACT' : 'FULL'} (${headerHeight}px tall)
                  • Container: ${mainContentHeight}px total height
                  • Timing: ${timeSinceLastChange}ms since last change (debounce=${debounceDelay}ms)
                  • Edit Mode: ${editMode ? 'ACTIVE' : 'OFF'}`);
                
                // Skip scroll state changes when in edit mode - keep header fully expanded for editing
                if (editMode) {
                    if (isCurrentlyCompact) {
                        header.classList.remove('scrolled');
                        console.log('🛡️ Header forced to full mode (edit mode active)');
                    }
                    return;
                }

                // Skip scroll state changes when in unowned state - header should remain static
                if (header.classList.contains('unowned')) {
                    if (isCurrentlyCompact) {
                        header.classList.remove('scrolled');
                        console.log('🏠 Header forced to full mode (unowned state - no sticky behavior)');
                    }
                    return;
                }
                
                // Hysteresis thresholds to prevent oscillation
                const compactThreshold = 50;    // Scroll down this much to go compact
                const fullThreshold = 20;       // Scroll up to this position to go full
                const immediateFullThreshold = 5; // Always go full immediately when very close to top
                
                // Special case: Always return to full state immediately when very close to top
                if (scrollTop <= immediateFullThreshold && isCurrentlyCompact) {
                    console.log(`⚡ IMMEDIATE TOP: Header full mode at ${scrollTop}px (≤${immediateFullThreshold}px threshold)`);
                    header.classList.remove('scrolled');
                    console.log('✅ Header switched to full mode (immediate top detection)');
                    lastChangeTime = now;
                    return;
                }
                
                // Determine desired state based on scroll position
                let shouldBeCompact;
                if (isCurrentlyCompact) {
                    // If currently compact, only expand when near top
                    shouldBeCompact = scrollTop > fullThreshold;
                    console.log(`📏 COMPACT STATE: scrollTop=${scrollTop}px > fullThreshold=${fullThreshold}px = ${shouldBeCompact}`);
                } else {
                    // If currently full, only compact after significant scroll
                    shouldBeCompact = scrollTop > compactThreshold;
                    console.log(`📏 FULL STATE: scrollTop=${scrollTop}px > compactThreshold=${compactThreshold}px = ${shouldBeCompact}`);
                }
                
                // Apply state changes with debouncing to prevent feedback loops
                if (shouldBeCompact && !isCurrentlyCompact && timeSinceLastChange > debounceDelay) {
                    console.log(`🔄 TRANSITION TO COMPACT: ${scrollTop}px (debounce passed: ${timeSinceLastChange}ms > ${debounceDelay}ms)`);
                    header.classList.add('scrolled');
                    console.log('✅ Header switched to compact mode');
                    lastChangeTime = now;
                    
                } else if (!shouldBeCompact && isCurrentlyCompact && timeSinceLastChange > debounceDelay) {
                    console.log(`🔄 TRANSITION TO FULL: ${scrollTop}px (debounce passed: ${timeSinceLastChange}ms > ${debounceDelay}ms)`);
                    header.classList.remove('scrolled');
                    console.log('✅ Header switched to full mode');
                    lastChangeTime = now;
                } else if (shouldBeCompact !== isCurrentlyCompact) {
                    console.log(`⏳ DEBOUNCE BLOCKING: Want ${shouldBeCompact ? 'compact' : 'full'} but only ${timeSinceLastChange}ms < ${debounceDelay}ms since last change`);
                }
            }
            
            // Add scroll listener to the correct scrollable container
            let ticking = false;
            mainContent.addEventListener('scroll', () => {
                if (!ticking) {
                    requestAnimationFrame(() => {
                        updateHeaderState();
                        ticking = false;
                    });
                    ticking = true;
                }
            }, { passive: true });
            
            // Set initial state after a short delay to ensure CSS is loaded
            setTimeout(() => {
                updateHeaderState();
                console.log('Sticky header initialized - PERFECT with proper content spacing (240px padding)');
            }, 100);
        }

        // Ownership State Management
        let isUnowned = false;
        // editMode is already declared above - reuse that variable

        function toggleOwnershipState() {
            isUnowned = !isUnowned;
            const body = document.body;
            const header = document.querySelector('.unified-header');
            const ownershipToggle = document.getElementById('ownership-toggle');
            
            if (isUnowned) {
                // Switch to unowned state
                body.classList.add('unowned');
                header.classList.add('unowned');
                ownershipToggle.classList.add('unowned');
                ownershipToggle.textContent = '🔓 Owned State';
                console.log('🔄 UNOWNED STATE APPLIED:');
                console.log('  • Body classes:', body.className);
                console.log('  • Header classes:', header.className);
                console.log('  • Header has unowned class:', header.classList.contains('unowned'));
                console.log('  • Page title font-size should be 42px');
                console.log('  • Page header image width should be 500px');
                console.log('  • Lock icon should be visible');
                console.log('  • Progress status should be hidden');
                console.log('  • Scroll behavior should be DISABLED (static header)');
                
                // Disable sticky header scrolling
                if (typeof updateHeaderState === 'function') {
                    // Force header to full state and disable scroll listener
                    header.classList.remove('scrolled');
                }
            } else {
                // Switch to owned state  
                body.classList.remove('unowned');
                header.classList.remove('unowned');
                ownershipToggle.classList.remove('unowned');
                ownershipToggle.textContent = '🔒 Unowned State';
                console.log('🔄 OWNED STATE APPLIED:');
                console.log('  • Body classes:', body.className);
                console.log('  • Header classes:', header.className);
                console.log('  • Header has unowned class:', header.classList.contains('unowned'));
                console.log('  • Page title font-size should be 24px');
                console.log('  • Page header image width should be 200px');
                console.log('  • Lock icon should be hidden');
                console.log('  • Progress status should be visible');
                console.log('  • Scroll behavior should be ENABLED (dynamic sticky header)');
                
                // Re-enable sticky header scrolling
                if (typeof updateHeaderState === 'function') {
                    updateHeaderState();
                }
            }
        }

        // toggleEditMode function already defined above - no need for duplicate


    </script>

    <!-- Floating Edit Controls (Development Tools) -->
    <div class="edit-controls">
        <button id="ownership-toggle" class="ownership-toggle-btn">
            🔒 Unowned State
        </button>
        <button id="edit-toggle" class="edit-toggle-btn">
            ✏️ Edit Mode
        </button>
        <button id="download-btn" class="download-btn" onclick="downloadHTML()">
            📥 Download HTML
        </button>
        <button onclick="document.querySelector('.unified-header').classList.toggle('scrolled')" style="background: #28a745; color: white; border: none; border-radius: 8px; padding: 8px 12px; cursor: pointer; font-size: 12px; margin-left: 8px;">
            🧪 Test CSS
        </button>
        <button onclick="
            const header = document.querySelector('.unified-header');
            const mainContent = document.querySelector('.main-content');
            const windowScroll = window.pageYOffset;
            const mainContentScroll = mainContent ? mainContent.scrollTop : 0;
            const headerHeight = header.getBoundingClientRect().height;
            const isScrolled = header.classList.contains('scrolled');
            alert(`Debug Info:\nWindow Scroll: ${windowScroll}px (should be 0)\nMain Content Scroll: ${mainContentScroll}px (active)\nSingle Scroll Container: .main-content\nBody Overflow: hidden\nHeader Height: ${headerHeight}px\nHeader State: ${isScrolled ? 'Compact' : 'Full'}\nCompact Threshold: >50px\nFull Threshold: <20px\nFixed Layout: No dual scrollbars`);
        " style="background: #6f42c1; color: white; border: none; border-radius: 8px; padding: 8px 12px; cursor: pointer; font-size: 12px; margin-left: 8px;">
            🔍 Debug
        </button>
    </div>

    <!-- Extended content for testing scroll functionality -->
    <div style="padding: 50px 20px; text-align: center; color: #666;">
        <div style="margin-top: 50px;">
            <h3>🎯 PERFECT! Polished Header with Improved Compact State</h3>
            <p><strong>✅ Proper positioning</strong> - header aligns with content area, not full window</p>
            <p><strong>✅ No hidden content</strong> - 240px padding accommodates full header height</p>
            <p><strong>✅ Improved compact padding</strong> - 24px top padding for better visual balance</p>
            <p><strong>✅ Visual size changes</strong> - header actually gets taller/shorter</p>
            <p><strong>✅ Smart triggering</strong> - goes compact at 50px, returns to full at 20px</p>
            <p><strong>✅ BOUNCE ELIMINATED</strong> - fixed positioning prevents scroll layout changes</p>
            <div style="margin-top: 30px; padding: 20px; background: rgba(255,255,255,0.8); border-radius: 8px; max-width: 600px; margin-left: auto; margin-right: auto;">
                <p><strong>✅ Return-to-Top Issue Fixed:</strong></p>
                <ul style="text-align: left; padding-left: 20px;">
                    <li><strong>Immediate top detection</strong> → Always goes full when scrollTop ≤ 5px</li>
                    <li><strong>Bypasses debouncing</strong> → No delay when returning to original position</li>
                    <li><strong>Guaranteed consistency</strong> → Header state always matches scroll position</li>
                    <li><strong>Fast scroll friendly</strong> → Works with quick scroll-to-top gestures</li>
                    <li><strong>Perfect state sync</strong> → Header state always reflects current position</li>
                </ul>
                
                <p style="margin-top: 20px;"><strong>✅ Bounce Issue SOLVED:</strong></p>
                <ul style="text-align: left; padding-left: 20px;">
                    <li><strong>Fixed positioning</strong> → Header removed from normal document flow</li>
                    <li><strong>Content-aligned width</strong> → Header matches main content area (304px to right edge)</li>
                    <li><strong>Proper content padding</strong> → 240px padding-top accommodates full header height</li>
                    <li><strong>Visual height changes</strong> → Header can resize freely without affecting scroll</li>
                    <li><strong>Zero feedback loops</strong> → Header size changes don't affect scroll position</li>
                </ul>
                
                <p style="margin-top: 20px;"><strong>✅ Edit Mode Protection:</strong></p>
                <ul style="text-align: left; padding-left: 20px;">
                    <li><strong>Full header access</strong> → Always shows complete header content in edit mode</li>
                    <li><strong>Scroll disabled</strong> → No compact state transitions during editing</li>
                    <li><strong>Automatic restoration</strong> → Resumes scroll behavior when exiting edit mode</li>
                    <li><strong>Complete editability</strong> → All header elements accessible for editing</li>
                </ul>
            </div>
            
            <!-- More content to enable scrolling -->
            <div style="margin: 100px 0; padding: 40px; background: rgba(255,255,255,0.9); border-radius: 12px; max-width: 600px; margin-left: auto; margin-right: auto;">
                <h4>Testing Area</h4>
                <p>This content provides enough height to test the sticky header behavior.</p>
                <p>The scroll behavior should now be clean and responsive with no competing scrollbars.</p>
            </div>
            
            <div style="margin: 100px 0; padding: 40px; background: rgba(240,240,240,0.9); border-radius: 12px; max-width: 600px; margin-left: auto; margin-right: auto;">
                <h4>Scroll Test Complete</h4>
                <p>If you can see the sticky header working smoothly without any dual scrollbars, the fix is successful!</p>
            </div>
        </div>
    </div>
</body>
</html>


